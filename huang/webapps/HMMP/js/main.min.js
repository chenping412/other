function Scan(n){this._init(n)}window.F=window.F||{},function(n){function t(n){var t,i,e=n.split("."),a=window;for(t=0;t<e.length;t+=1)i=e[t],a[i]=a[i]||{},a=a[i];return a}function i(){return"xxxx-4xxx-yxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0,i="x"==n?t:3&t|8;return i.toString(16)}).toUpperCase()}n.namespace=t,n.guid=i}(window.F=window.F||{}),F.namespace("F.UI"),F.UI.find=function(n){var t=n instanceof $?n:$(n),i=[];return $.each(t,function(){var n=$(this);i.push(n.data("uitype")?n.data("ui"):n)}),i.length>1?i:i[0]},F.UI.scan=function(){for(var n={},t=0;t<arguments.length;t++)switch(typeof arguments[t]){case"string":case"object":n.range=$(arguments[t]);break;case"boolean":n.databind=arguments[t]}n=$.extend({range:document,databind:!0},n);var i=new Scan(n);i=void 0},Scan.prototype={_init:function(n){var t=this;this.eles=$("[uitype]",n.range),this.eles.each(function(){var n=$(this),i=n.attr("uitype");return i=i.charAt(0).toUpperCase()+i.substring(1),!(!n.data("uitype")&&i)||void t._scan(n,i)})},_scan:function(n,t){if(!t&&""===t)return!1;if(window[t]){var i={};$.each(F.UI[t+"Default"],function(t,e){var a=n.attr(t);void 0!=a&&(i[t]=a)}),new window[t](n,i)}return!0},_getOpts:function(){var n=[];n.checked=dom.attr("checked"),n.disable=dom.attr("disable"),n.readonly=dom.attr("readonly"),n.name=dom.attr("name")||F.guid()}},function(n,t){function i(t){this.opts=n.extend({},t),this._init()}i.prototype={_init:function(){this._build(),this._bindEvent()},_build:function(){},_addSkin:function(){},_bindEvent:function(){}},t.Base=i}(jQuery,window.F);
!function(){function t(e){var i=o[e],s="exports";return"object"==typeof i?i:(i[s]||(i[s]={},i[s]=i.call(i[s],t,i[s],i)||i[s]),i[s])}function e(t,e){o[t]=e}var i,o={};e("jquery",function(){return jQuery}),e("popup",function(t){function e(){this.destroyed=!1,this.__popup=o("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML),i?this.__popup.appendTo(i):this.__popup.appendTo("body"),this.__backdrop=this.__mask=o("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],s++}var o=t("jquery"),s=0,n=!("minWidth"in o("html")[0].style),r=!n;return o.extend(e.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(t,i){if(this.destroyed)return this;var s=this.__popup,a=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=t||this.follow,!this.__ready){if(s.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),n||o(window).on("resize",o.proxy(this.reset,this)),this.modal){var c={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||e.zIndex};s.addClass(this.className+"-modal"),r||o.extend(c,{position:"absolute",width:o(window).width()+"px",height:o(document).height()+"px"}),a.css(c).attr({tabindex:"0"}).on("focus",o.proxy(this.focus,this)),this.__mask=a.clone(!0).attr("style","").insertAfter(s),a.addClass(this.className+"-backdrop").insertBefore(s),this.__ready=!0}s.html()||s.html(this.innerHTML)}return this.oniframeload?i?(s.addClass(this.className+"-show").show().css("opacity","1"),a.show().css("opacity","1")):(s.addClass(this.className+"-show").show().css("opacity","0"),a.show().css("opacity","0")):(s.addClass(this.className+"-show").show(),a.show()),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(t){return!this.destroyed&&this.open&&(void 0!==t&&(this.returnValue=t),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),e.current===this&&(e.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),n||o(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var t in this)delete this[t];return this},reset:function(){var t=this.follow;return t?this.__follow(t):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var t=this.node,i=this.__popup,s=e.current,n=this.zIndex=e.zIndex++;if(s&&s!==this&&s.blur(!1),!o.contains(t,this.__getActive())){var r=i.find("[autofocus]")[0];!this._autofocus&&r?this._autofocus=!0:r=t,this.__focus(r)}return i.css("zIndex",n),e.current=this,i.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var t=this.__activeElement,e=arguments[0];return e!==!1&&this.__focus(t),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(t,e){return this.__getEventListener(t).push(e),this},removeEventListener:function(t,e){for(var i=this.__getEventListener(t),o=0;o<i.length;o++)e===i[o]&&i.splice(o--,1);return this},__getEventListener:function(t){var e=this.__listener;return e||(e=this.__listener={}),e[t]||(e[t]=[]),e[t]},__dispatchEvent:function(t){var e=this.__getEventListener(t);this["on"+t]&&this["on"+t]();for(var i=0;i<e.length;i++)e[i].call(this)},__focus:function(t){try{this.autofocus&&!/^iframe$/i.test(t.nodeName)&&t.focus()}catch(e){}},__getActive:function(){try{var t=document.activeElement,e=t.contentDocument,i=e&&e.activeElement||t;return i}catch(o){}},__center:function(){var t=this.__popup,e=o(window),i=o(document),s=this.fixed,n=s?0:i.scrollLeft(),r=s?0:i.scrollTop(),a=e.width(),c=e.height(),l=t.width(),h=t.height(),d=(a-l)/2+n,u=382*(c-h)/1e3+r,f=t[0].style;f.left=Math.max(parseInt(d),n)+"px",f.top=Math.max(parseInt(u),r)+"px"},__follow:function(t){var e=t.parentNode&&o(t),i=this.__popup;if(this.__followSkin&&i.removeClass(this.__followSkin),e){var s=e.offset();if(s.left*s.top<0)return this.__center()}var n=this,r=this.fixed,a=o(window),c=o(document),l=a.width(),h=a.height(),d=c.scrollLeft(),u=c.scrollTop(),f=i.width(),p=i.height(),v=e?e.outerWidth():0,_=e?e.outerHeight():0,m=this.__offset(t),g=m.left,b=m.top,w=r?g-d:g,y=r?b-u:b,k=r?0:d,x=r?0:u,E=k+l-f,C=x+h-p,L={},N=this.align.split(" "),$=this.className+"-",T={top:"bottom",bottom:"top",left:"right",right:"left"},I={top:"top",bottom:"top",left:"left",right:"left"},z=[{top:y-p,bottom:y+_,left:w-f,right:w+v},{top:y,bottom:y-p+_,left:w,right:w-f+v}],M={left:w+v/2-f/2,top:y+_/2-p/2},j={left:[k,E],top:[x,C]};o.each(N,function(t,e){z[t][e]>j[I[e]][1]&&(e=N[t]=T[e]),z[t][e]<j[I[e]][0]&&(N[t]=T[e])}),N[1]||(I[N[1]]="left"===I[N[0]]?"top":"left",z[1][N[1]]=M[I[N[1]]]),$+=N.join("-")+" "+this.className+"-follow",n.__followSkin=$,e&&i.addClass($),L[I[N[0]]]=parseInt(z[0][N[0]]),L[I[N[1]]]=parseInt(z[1][N[1]]),i.css(L)},__offset:function(t){var e=t.parentNode,i=e?o(t).offset():{left:t.pageX,top:t.pageY};t=e?t:t.target;var s=t.ownerDocument,n=s.defaultView||s.parentWindow;if(n==window)return i;var r=n.frameElement,a=o(s),c=a.scrollLeft(),l=a.scrollTop(),h=o(r).offset(),d=h.left,u=h.top;return{left:i.left+d-c,top:i.top+u-l}}}),e.zIndex=1024,e.current=null,e}),e("dialog-config",{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:!0,width:"",height:"",padding:"",boxClass:"",skin:"",quickClose:!1,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="ui-dialog"><div class="ui-dialog-arrow-a"></div><div class="ui-dialog-arrow-b"></div><table class="ui-dialog-grid" border="0" cellspacing="0"><tr><td i="header" class="ui-dialog-header"><button i="close" class="ui-dialog-close">&#215;</button><div i="title" class="ui-dialog-title"></div></td></tr><tr><td i="body" class="ui-dialog-body"><div i="content" class="ui-dialog-content"></div></td></tr><tr><td i="footer" class="ui-dialog-footer"><div i="statusbar" class="ui-dialog-statusbar"></div><div i="button" class="ui-dialog-button"></div></td></tr></table></div>'}),e("dialog",function(t){var e=t("jquery"),o=t("popup"),s=t("dialog-config"),n=s.cssUri;if(n){var r=t[t.toUrl?"toUrl":"resolve"];r&&(n=r(n),n='<link rel="stylesheet" href="'+n+'" />',e("base")[0]?e("base").before(n):e("head").append(n))}var a=0,c=new Date-0,l=!("minWidth"in e("html")[0].style),h="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),d=!l&&!h,u=function(t,o,s){i=t.boxClass;var n=t=t||{};"string"!=typeof t&&1!==t.nodeType||(t={content:t,fixed:!h}),t=e.extend(!0,{},u.defaults,t),t.original=n;var r=t.id=t.id||c+a,l=u.get(r);return l?l.focus():(d||(t.fixed=!1),t.quickClose&&(t.modal=!0,t.backdropOpacity=0),e.isArray(t.button)||(t.button=[]),void 0!==s&&(t.cancel=s),t.cancel&&t.button.push({id:"cancel",value:t.cancelValue,callback:t.cancel,display:t.cancelDisplay}),void 0!==o&&(t.ok=o),t.ok&&t.button.push({id:"ok",value:t.okValue,callback:t.ok,autofocus:!0}),u.list[r]=new u.create(t))},f=function(){};f.prototype=o.prototype;var p=u.prototype=new f;return u.create=function(t){var i=this;e.extend(this,new o);var s=(t.original,e(this.node).html(t.innerHTML)),n=e(this.backdrop);return this.options=t,this._popup=s,e.each(t,function(t,e){"function"==typeof i[t]?i[t](e):i[t]=e}),t.zIndex&&(o.zIndex=t.zIndex),s.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").attr("title","关闭").on("click",function(t){i._trigger("cancel"),t.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),t.quickClose&&n.on("onmousedown"in document?"mousedown":"click",function(){return i._trigger("cancel"),!1}),this.addEventListener("show",function(){n.css({opacity:0,background:t.backdropBackground}).animate({opacity:t.backdropOpacity},150)}),this._esc=function(t){var e=t.target,s=e.nodeName,n=/^input|textarea$/i,r=o.current===i,a=t.keyCode;!r||n.test(s)&&"button"!==e.type||27===a&&i._trigger("cancel")},e(document).on("keydown",this._esc),this.addEventListener("remove",function(){e(document).off("keydown",this._esc),delete u.list[this.id]}),a++,u.oncreate(this),this},u.create.prototype=p,e.extend(p,{content:function(t){var i=this._$("content");return"object"==typeof t?(t=e(t),i.empty("").append(t.show()),this.addEventListener("beforeremove",function(){e("body").append(t.hide())})):i.html(t),this.reset()},title:function(t){return t&&t.indexOf("h3")>-1?this._$("title").html(t):this._$("title").text(t),this._$("header")[t?"show":"hide"](),this},width:function(t){return this._$("content").css("width",t),this.reset()},height:function(t){return this._$("content").css("height",t),this.reset()},button:function(t){t=t||[];var i=this,o="",s=0;return this.callbacks={},"string"==typeof t?(o=t,s++):e.each(t,function(t,n){var r=n.id=n.id||n.value,a="",c=n.skin;i.callbacks[r]=n.callback,n.display===!1?a=' style="display:none"':s++,o+=c?'<a class="'+c+'" i-id="'+r+'"'+a+(n.disabled?" disabled":"")+(n.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+n.value+"</a>":'<button type="button" i-id="'+r+'"'+a+(n.disabled?" disabled":"")+(n.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+n.value+"</button>",i._$("button").on("click","[i-id="+r+"]",function(t){var o=e(this);o.attr("disabled")||i._trigger(r),t.preventDefault()})}),this._$("button").html(o),this._$("footer")[s?"show":"hide"](),this},statusbar:function(t){return this._$("statusbar").html(t)[t?"show":"hide"](),this},_$:function(t){return this._popup.find("[i="+t+"]")},_trigger:function(t){var e=this.callbacks[t];return"function"!=typeof e||e.call(this)!==!1?this.close().remove():this}}),u.oncreate=e.noop,u.getCurrent=function(){return o.current},u.get=function(t){return void 0===t?u.list:u.list[t]},u.list={},u.defaults=s,u}),e("drag",function(t){var e=t("jquery"),i=e(window),o=e(document),s="createTouch"in document,n=document.documentElement,r=!("minWidth"in n.style),a=!r&&"onlosecapture"in n,c="setCapture"in n,l={start:s?"touchstart":"mousedown",over:s?"touchmove":"mousemove",end:s?"touchend":"mouseup"},h=s?function(t){return t.touches||(t=t.originalEvent.touches.item(0)),t}:function(t){return t},d=function(){this.start=e.proxy(this.start,this),this.over=e.proxy(this.over,this),this.end=e.proxy(this.end,this),this.onstart=this.onover=this.onend=e.noop};return d.types=l,d.prototype={start:function(t){return t=this.startFix(t),o.on(l.over,this.over).on(l.end,this.end),this.onstart(t),!1},over:function(t){return t=this.overFix(t),this.onover(t),!1},end:function(t){return t=this.endFix(t),o.off(l.over,this.over).off(l.end,this.end),this.onend(t),!1},startFix:function(t){return t=h(t),this.target=e(t.target),this.selectstart=function(){return!1},o.on("selectstart",this.selectstart).on("dblclick",this.end),a?this.target.on("losecapture",this.end):i.on("blur",this.end),c&&this.target[0].setCapture(),t},overFix:function(t){return t=h(t)},endFix:function(t){return t=h(t),o.off("selectstart",this.selectstart).off("dblclick",this.end),a?this.target.off("losecapture",this.end):i.off("blur",this.end),c&&this.target[0].releaseCapture(),t}},d.create=function(t,s){var n,r,a,c,l=e(t),h=new d,u=d.types.start,f=function(){},p=t.className.replace(/^\s|\s.*/g,"")+"-drag-start",v={onstart:f,onover:f,onend:f,off:function(){l.off(u,h.start)}};return h.onstart=function(e){var s="fixed"===l.css("position"),h=o.scrollLeft(),d=o.scrollTop(),u=l.width(),f=l.height();n=0,r=0,a=s?i.width()-u+n:o.width()-u,c=s?i.height()-f+r:o.height()-f;var _=l.offset(),m=this.startLeft=s?_.left-h:_.left,g=this.startTop=s?_.top-d:_.top;this.clientX=e.clientX,this.clientY=e.clientY,l.addClass(p),v.onstart.call(t,e,m,g)},h.onover=function(e){var i=e.clientX-this.clientX+this.startLeft,o=e.clientY-this.clientY+this.startTop,s=l[0].style;i=Math.max(n,Math.min(a,i)),o=Math.max(r,Math.min(c,o)),s.left=i+"px",s.top=o+"px",v.onover.call(t,e,i,o)},h.onend=function(e){var i=l.position(),o=i.left,s=i.top;l.removeClass(p),v.onend.call(t,e,o,s)},h.off=function(){l.off(u,h.start)},s?h.start(s):l.on(u,h.start),v},d}),e("dialog-plus",function(t){var e=t("jquery"),i=t("dialog"),o=t("drag");return i.oncreate=function(t){var i,s=t.options,n=s.original,r=s.url,a=s.oniframeload;if(r&&(this.padding=s.padding=0,i=e("<iframe />"),i.attr({src:r,name:t.id,width:"100%",height:"100%",allowtransparency:"yes",frameborder:"no",scrolling:"no"}).on("load",function(){var e;try{e=i[0].contentWindow.frameElement}catch(o){}e&&(s.width||t.width(i.contents().width()),s.height||t.height(i.contents().height())),a&&(a.call(t),t.show("",!0))}),t.addEventListener("beforeremove",function(){i.attr("src","about:blank").remove()},!1),t.content(i[0]),t.iframeNode=i[0]),!(n instanceof Object))for(var c=function(){t.close().remove()},l=0;l<frames.length;l++)try{if(n instanceof frames[l].Object){e(frames[l]).one("unload",c);break}}catch(h){}e(t.node).on(o.types.start,"[i=title]",function(e){t.follow||(t.focus(),o.create(t.node,e))})},i.get=function(t){if(t&&t.frameElement){var e,o=t.frameElement,s=i.list;for(var n in s)if(e=s[n],e.node.getElementsByTagName("iframe")[0]===o)return e}else if(t)return i.list[t]},i}),window.dialog=t("dialog-plus")}();
!function(t,i){function p(i){var p={msg:"",type:1,timer:1500,skin:"",status:""};this.opts=t.extend(p,i),this._init()}p.prototype={_init:function(){this.opts;this._tipBuild(),this._tipStyle(),this._timeColse()},_tipBuild:function(){var i=this.opts;t("body").append('<div class="f_ui-tip '+i.skin+'"><span class="tip_type"><i class="tip_type_common type_'+i.type+'"></i>'+i.msg+"</span></div>")},_tipStyle:function(){if("top"==this.opts.status)var p=(i.parent.$("body").height()-t(".f_ui-tip").height())/2,s=(i.parent.$("body").width()-t(".f_ui-tip").width())/2;else var p=(t(i).height()-t(".f_ui-tip").height())/2,s=(t(i).width()-t(".f_ui-tip").width())/2;t(".f_ui-tip").css({top:p,left:s})},_timeColse:function(){var i=this.opts;setTimeout(function(){t(".f_ui-tip").remove()},i.timer)},removeTip:function(i){t(".f_ui-tip").remove()}},i.Tip=p}(jQuery,window);
!function(t,i){function e(i,e,s){var n={uitype:"Accordion",selector:i,width:"auto",height:"auto",skin:"",type:"html",tabs:[],activeIndex:0,expandTime:200,triggerType:"click",afterAdd:null,afterClose:null};this.opts=t.extend(n,e),this._init()}e.prototype={_init:function(){this.dom=this.opts.selector instanceof t?this.opts.selector:t(this.opts.selector),this.oldDom=this.dom.clone(),this._build(),this._bindEvent()},_build:function(){var i=this,e=this.opts,s=this._getTabs();this.dom.empty(),this.dom.addClass("f-ui_accoradion "+e.skin).append(this.navDom).append(this.conDom),t.each(s,function(t,e){i.addItem(e,!0)}),this.setWidth(e.width||"auto"),this.setHeight(e.height||"auto",!0)},_bindEvent:function(i){var e=this;e.setActive(this.opts.activeIndex),this.dom.on(this.opts.triggerType,".f-ui_accoradion_head",function(){var t=e.dom.find(".f-ui_accoradion_head").index(this);return e.setActive(t),!1}).find(".close").on("click",function(){var i=e.dom.find(".f-ui_accoradion_head").index(t(this).parent());return e.closeTab(i),!1})},_getTabs:function(){var i=this.opts;if(!i.tabs.length){var e=this.dom.children();t.each(e,function(e,s){var n=t(this);i.tabs.push({title:n.attr("title")||"标题"+e,content:n.html()||"面板"+e,type:n.attr("type")||i.type})})}return i.tabs},acitveContH:0,activeIndex:0,setWidth:function(t){return this.dom.width(t),this},setHeight:function(t,i){var t=parseInt(t);return t?(this.dom.height(t),this.acitveContH=t-this.opts.tabs.length*this.dom.find(".f-ui_accoradion_head").outerHeight()-1,!i&&this.setActive(this.activeIndex),this):this},setActive:function(i){var e=this,s=this.opts.tabs,n=this.dom.find(".f-ui_accoradion_con").eq(Number(i)),o=this.dom.find(".f-ui_accoradion_head").eq(Number(i)),a=s[i].type||this.opts.type;if(o.addClass("active").siblings().removeClass("active"),n.animate({height:this.acitveContH,overflow:"auto"},e.expandTime).siblings(".f-ui_accoradion_con").animate({height:0,overflow:"hidden"},e.expandTime),"iframe"==a){var d=n.find("iframe");d.length||(d=t('<iframe src="'+s[i].content+'" frameborder="0"></iframe>').css({width:this.opts.width}).appendTo(n.html("")))}return this.activeIndex=i,this},addItem:function(e,s){var n=this.opts,o=(n.tabs.length,t('<div class="f-ui_accoradion_head"><div class="f-ui_accoradion_title">'+e.title+"</div></div>")),a=t('<div class="f-ui_accoradion_con">'+e.content+"</div>").height(0),d=e.closeable==i?n.closeable:e.closeable;if(d===!0&&o.append('<a class="f-ui_accoradion_close">x</a>'),this.dom.append(o),this.dom.append(a),s==i){var h={title:e.title,content:e.content,type:e.type||n.type};n.afterAdd&&n.afterAdd(h),n.tabs.push(h),this.setHeight(n.height)}return this}},window.Accordion=e}(jQuery);
!function(t,i){function e(i,e,a){var s={uitype:"Tab",selector:i,width:"auto",height:"auto",skin:"",type:"html",tabs:[],maxTabNum:8,closeable:!1,reload:!1,activeTabId:"",triggerType:"click",beforeAdd:null,afterAdd:null,afterClose:null,afterActive:null,navPosition:"top"};this.opts=t.extend(s,e),this._init()}e.prototype={_init:function(){this.dom=this.opts.selector instanceof t?this.opts.selector:t(this.opts.selector),this.oldDom=this.dom.clone(),this.navDom=t('<div class="f-ui_tab_nav"></div>'),this.conDom=t('<div class="f-ui_tab_con"></div>'),this._build(),this._bindEvent()},_build:function(){var i=this,e=this.opts,a=this._getTabs();this.dom.empty(),this.dom.addClass("f-ui_tab "+e.skin).append(this.navDom).append(this.conDom),t.each(a,function(t,a){""===e.activeTabId&&0===t&&(e.activeTabId=a.tabid),i.addTab(a,!0)}),this.setWidth(e.width||"auto"),this.setHeight(e.height||"auto")},_bindEvent:function(){var i=this;i.setActive(this.opts.activeTabId),this.dom.on(this.opts.triggerType,".f-ui_tab_nav>span",function(){return i.setActive(t(this).attr("tabid")),!1}).find(".close").on("click",function(){return i.closeTab(t(this).parent().attr("tabid")),!1})},_getTabs:function(){var i=this,e=this.opts;if(e.tabs.length)t.each(e.tabs,function(t,a){return!(t>=i.opts.maxTabNum)&&(void 0===a.closeable&&(a.closeable=e.closeable),void 0===a.afterClose&&(a.afterClose=e.afterClose),void 0===a.afterActive&&(a.afterActive=e.afterActive),void 0===a.reload&&(a.reload=e.reload),void 0===a.tabid&&(a.tabid=F.guid()),void(void 0!==a.title&&(a.title=a.title.replace(/</g,"&lt;"))))});else{var a=this.dom.children();t.each(a,function(a,s){if(a>=i.opts.maxTabNum)return!1;var o=t(this);e.tabs.push({type:o.attr("type")||e.type,tabid:o.attr("tabid")||F.guid(),title:o.attr("title").replace(/</g,"&lt;")||"标签"+a,content:o.html()||"内容"+a,closeable:o.attr("closeable")||e.closeable,reload:o.attr("reload")||e.reload,afterActive:o.attr("afterActive")||e.afterActive,afterClose:o.attr("afterClose")||e.afterClose})})}return this.tabNum=e.tabs.length,e.tabs},activeTabId:0,tabNum:0,getTabs:function(){return this.opts.tabs},setWidth:function(t){var i=this.dom.find("iframe");return this.dom.width(t),i.length&&i.css({width:t}),this.opts.width=t,this},setHeight:function(t){this.dom.height(t);var t=parseInt(t);if(t){var i=t-this.navDom.height(),e=this.conDom.find("iframe");this.conDom.height(i),e.length&&e.css({height:i}),this.opts.height=t}return this},setActive:function(e){var a,s=this.opts.tabs,o=this.navDom.find('>span[tabid="'+e+'"]');if(con=this.conDom.find('>div[tabid="'+e+'"]'),t.each(s,function(t,i){if(i.tabid===e)return a=i,!1}),o.addClass("active").siblings().removeClass("active"),"iframe"==a.type){var n=con.find("iframe");n.length?(a.reload&&n.attr("src",n.attr("src")),con.show().siblings().hide()):(con.empty().show().siblings().hide(),n=t('<iframe name="iframe_'+e+'" id="iframe_'+e+'" src="'+a.content+'" frameborder="0"></iframe>').css({width:this.opts.width,height:this.opts.height-this.navDom.height()}),n.appendTo(con)),n.on("load.tab",function(){"function"==typeof a.afterActive?a.afterActive(e):a.afterActive&&i[a.afterActive](e)})}else con.show().siblings().hide(),"function"==typeof a.afterActive?a.afterActive(e):a.afterActive&&i[a.afterActive](e);return this.activeTabId=e,this},addTab:function(i,e){var a=this,s=!1;if(void 0===e&&void 0!==i.tabid&&t.each(this.opts.tabs,function(t,e){if(e.tabid===i.tabid)return s=!0,a.setActive(e.tabid),!1}),s)return this;if(this.opts.tabs.length>this.opts.maxTabNum)return new Tip({msg:"亲，标签页数量不能超过"+this.opts.maxTabNum+"个哦~",type:4,time:2e3}),!1;var o=this.opts,n=i.tabid||F.guid(),r=i.title.replace(/</g,"&lt;"),h=(o.tabs.length,t('<span tabid="'+n+'">'+r+"</span>")),c=t('<div tabid="'+n+'" class="f-ui_tab_item">'+i.content+"</div>").hide(),d=void 0==i.closeable?o.closeable:i.closeable;if(this.navDom.find(">span").length&&d!==!1&&h.append('<a class="close">x</a>'),this.navDom.append(h),this.conDom.append(c),void 0===e){var l={tabid:n,title:r,content:i.content,type:i.type||o.type,closeable:void 0==i.closeable?o.closeable:i.closeable,reload:void 0===i.reload?o.reload:i.reload,afterClose:i.afterClose||o.afterClose};o.tabs.push(l),a.setActive(n),o.afterAdd&&o.afterAdd(l),h.find(".close").on("click",function(){return a.closeTab(t(this).parent().attr("tabid")),!1})}return this.tabNum=o.tabs.length,this},closeTab:function(e){var a=this.opts,s=this.conDom.find('>div[tabid="'+e+'"]'),o=this.navDom.find('>span[tabid="'+e+'"]');if(o.length){if(this.activeTabId==e){var n=o.prev(),r=o.next();n.length?this.setActive(n.attr("tabid")):r.length&&this.setActive(r.attr("tabid"))}o.remove(),s.remove(),t.each(a.tabs,function(t,s){if(s.tabid===e){var o=a.tabs[t].afterClose;return o&&("function"==typeof o?o(e):i[o](e)),a.tabs.splice(t,1),!1}})}return this.tabNum=a.tabs.length,this},closeActiveTab:function(){this.closeTab(this.activeTabId)}},i.Tab=e}(jQuery,window);
!function(t,r){function e(r,e){var s={msgAlign:"right",msgTooltip:!1,showErrorMsg:!0,showCorrectMsg:!0,heightAuto:!1};this.opts=t.extend(s,e),this.validateType=!0,this.opts.errorMsg={"*":"不能为空！","*6-16":"请填写6到16位任意字符！",n:"请填写数字！","n6-16":"请填写6到16位数字！","n6-20":"最多输入20个数字!",s:"不能输入特殊字符！","s6-18":"请填写6到18位字符！",zh:"请输入中文！","zh1-6":"请输入1到6个中文字符！",p:"请填写邮政编码！",m:"请填写手机号码！",e:"邮箱地址格式不对！",url:"请填写网址！",f:"请填写小数！","f2-2":"请填写2位小数！",m50:"最多输入50个字符!",m30:"最多输入30个字符!",m20:"最多输入20个字符!",m10:"最多输入10个字符!",m100:"最多输入100个字符!",s500:"最多输入500个字符!"},this.opts.dataType={"*":/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,"n6-20":/^\d{1,20}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,zh:/^[\u4E00-\u9FA5\uf900-\ufa2d]+$/,"zh1-6":/^[\u4E00-\u9FA5\uf900-\ufa2d]{1,6}$/,p:/^[0-9]{6}$/,m:/^13[0-9]{9}$|^14[0-9]{9}$|^15[0-9]{9}$|^18[0-9]{9}$|^17[0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,f:/^\d+(\.\d+)$/,"f2-2":/^\d+(\.\d{2,2})$/,m50:/^[\w\W]{1,50}$/,m30:/^[\w\W]{1,30}$/,m20:/^[\w\W]{1,20}$/,m10:/^[\w\W]{1,10}$/,m100:/^[\w\W]{1,100}$/,s500:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{0,500}$/},this.dom=r instanceof t?r:t(r),this.formEles=this.dom.find("*[datatype],*[customfun]"),this._init()}e.prototype={_init:function(){var t=this;t._bindEvent(),this.dom.on("submit",function(r){return t.validate()}),this.dom.on("reset",function(r){t.reset()})},_bindEvent:function(e){var s=this,i=this.opts,a=this.formEles;e!==r&&(a=e),t.each(a,function(r,e){var a=t(this);a.data("validate",!1),a.parent(".f_ui-valid-item").length<1&&(s.opts.heightAuto?a.wrap('<span class="f_ui-valid-item"></span>'):a.wrap('<span class="f_ui-valid-item" style="height:'+a.outerHeight()+'px"></span>')),"right"!==i.msgAlign&&a.parent().addClass("valid-bottom"),a.on("blur",function(r){var e=t(this);setTimeout(function(){if(!e.is(":focus"))return a.attr("nomust")&&""==a.val()?void a.removeClass("validform_error").next(".valid-tip").remove():void(a.attr("submitValidform")&&""==a.val()||s._validate(e))},200)})})},_setErrorStyle:function(r,e){if(!r[0].getAttribute("nomust")||""!=r[0].value){if(this.opts.showErrorMsg===!0){var s,i=r.parent().find(".valid-tip"),e=this.opts.showErrorMsg?e:"";i.length&&i.remove(),i=t("<span><i></i><b>"+e+"</b></span>").insertAfter(r),s=i.width(),i.addClass("valid-tip error"),this.opts.msgTooltip!==!0||i.is("error-tooltip")||(i.addClass("error-tooltip"),i.find("b").css({width:s,left:-34,top:-i.find("b").outerHeight()-11})),"right"!==this.opts.msgAlign&&(!r.parent().is(".valid-bottom")&&r.parent().addClass("valid-bottom"),i.css({top:r.outerHeight()+3}))}else r.parent().attr("title",e);r.addClass("validform_error"),1==r.data("validate")&&r.data("validate",!1)}},_setCorrectStyle:function(r,e){if(!r[0].getAttribute("nomust")||""!=r[0].value){if(this.opts.showCorrectMsg===!0){var s=r.parent().removeAttr("title").find(".valid-tip");s.length&&s.remove(),s=t('<span class="valid-tip success"><i></i></span>').insertAfter(r),"right"!==this.opts.msgAlign&&(r.parent().is(".valid-bottom")&&r.parent().removeClass("valid-bottom"),s.css({top:"50%"}))}else r.parent().removeAttr("title");r.is(".validform_error")&&r.removeClass("validform_error"),0==r.data("validate")&&r.data("validate",!0)}},_validate:function(t){var r=this.opts,e=t,s=/\/.+\//g,i=/^(.+?)(\d+)-(\d+)$/,a=e.attr("datatype"),o=e.attr("customFun"),n=e.attr("customArgs"),l=e.attr("require"),d=(e.attr("nomust"),e.attr("afterPassed"));if(l&&"true"==l){var h=/[\w\W]+/;if(!h.test(e.val()))return this._setErrorStyle(e,"不能为空"),!1}if(o){if(!window[o](e.val(),n,e))return this._setErrorStyle(e,e.attr("errormsg")||r.errorMsg[a]),!1;d?window[d](e.val(),e)?this._setCorrectStyle(e):this._setErrorStyle(e,e.attr("errormsg")||r.errorMsg[a]):this._setCorrectStyle(e)}else if(s.test(a)){var u=a.match(s)[0].slice(1,-1),m=a.replace(s,""),f=RegExp(u,m);if(!f.test(e.val()))return this._setErrorStyle(e,e.attr("errormsg")||r.errorMsg[a]),!1;d?window[d](e.val(),e)?this._setCorrectStyle(e):this._setErrorStyle(e,e.attr("errormsg")||r.errorMsg[a]):this._setCorrectStyle(e)}else{if(!(a in r.dataType)){var v,p=a.match(i);if(p){for(var c in r.dataType)if(v=c.match(i),v&&p[1]===v[1]){var g=r.dataType[c].toString(),m=g.match(/\/[mgi]*/g)[1].replace("/",""),w=new RegExp("\\{"+v[2]+","+v[3]+"\\}","g");g=g.replace(/\/[mgi]*/g,"/").replace(w,"{"+p[2]+","+p[3]+"}").replace(/^\//,"").replace(/\/$/,""),r.dataType[a]=new RegExp(g,m);break}}else alert('验证规则:"'+a+'"不符合规则')}if(r.dataType[a]&&!r.dataType[a].test(e.val()))return this._setErrorStyle(e,e.attr("errormsg")||r.errorMsg[a]),!1;d?window[d](e.val(),e)?this._setCorrectStyle(e):this._setErrorStyle(e,e.attr("errormsg")||r.errorMsg[a]):this._setCorrectStyle(e)}},validate:function(){var r=this,e=0;return t.each(this.formEles,function(s,i){var a=t(this);a[0].getAttribute("nomust")&&""==a[0].value?e++:(r._validate(a),a.data("validate")&&e++)}),e==this.formEles.length&&(t.each(this.formEles,function(r,e){t(this).next().remove()}),!0)},reset:function(){return t.each(this.formEles,function(r,e){t(this).val("").removeClass("validform_error")}),this.dom.attr("validate",!0),this.dom.find(".valid-tip").remove(),this},setErrormsg:function(r,e){var s=r instanceof t?r:t(r);s.attr("errormsg",e)},serialize:function(){return this.dom.serialize()},getValidElements:function(){this.formEles=this.dom.find("*[datatype],*[customfun]")},addElement:function(r){var e=this,s=r instanceof t?r:t(r);t.each(s,function(){e.formEles.push(t(this))}),e._bindEvent(s)}},window.validform=e}(jQuery);
F.loading=function(d,i,a){var n=d(".f_ui-loading"),o=!1,e=function(a,e,s){i.loading.id=s?s:i.guid(),n.parent().length?(a?n.addClass("load_mask"):n.removeClass("load_mask"),n.show()):(n=d('<div class="f_ui-loading"><div class="load_body"><div class="loading_wrap"><div class="item item1"></div><div class="item item2"></div><div class="item item3"></div><div class="item item4"></div><div class="item item5"></div></div></div></div>'),n.appendTo(d("body")),a&&n.addClass("load_mask")),o=!0},s=function(){n.hide(),o=!1},l=function(){n.remove(),o=!1},t=function(){return o};return{show:e,hide:s,remove:l,isLoading:t}}(jQuery,F),F.loading_Partial=function(d,i,a){var n=d(".load_body1"),o=function(i,a,o,e){var s=o||"加载中...";n=d('<div class="load_body1"><span class="load_eff1"></span><span class="load_text1">'+s+"</span></div>"),n.appendTo(i)},e=function(i){i=i?i:d("body"),i.find(n).hide()},s=function(i){i=i?i:d("body"),i.find(n).remove()};return{show:o,hide:e,remove:s}}(jQuery,F),F.loading_Partial=function(d,i,a){var n=d(".load_body1"),o=function(i,a,o,e){var s=o||"加载中...";n=d('<div class="load_body1"><span class="load_eff1"></span><span class="load_text1">'+s+"</span></div>"),n.appendTo(i)},e=function(i){i=i?i:d("body"),i.find(n).hide()},s=function(i){i=i?i:d("body"),i.find(n).remove()};return{show:o,hide:e,remove:s}}(jQuery,F),F.loading_line=function(d,i,a){var n=d(".load_body1"),o=function(i,a,o,e){n=d('<div class="load_line1"><span></span></div>'),n.appendTo(i)},e=function(i){i=i?i:d("body"),i.find(n).hide()},s=function(i){i=i?i:d("body"),i.find(n).remove()};return{show:o,hide:e,remove:s}}(jQuery,F);
!function(e,t,i){function s(i,s){this.opts=e.extend({},t.UI.CheckboxDefault,s),this.opts.selector=i,this._init()}t.UI.CheckboxDefault={selector:null,checked:!1,name:"",value:"",disable:!1,readonly:!1,changeTrigger:null},s.prototype={_init:function(){this.dom=this.opts.selector instanceof e?this.opts.selector:e(this.opts.selector),this._build(),this._bindEvent()},_build:function(){var e=this.dom;e.addClass("f_ui-checkbox").append('<i></i><input type="checkbox" />'),this.opts.value&&e.find("input").val(this.opts.value),this.opts.name&&e.find("input").attr("name",this.opts.name),this.opts.readonly&&e.addClass("readonly"),e.removeAttr("value").removeAttr("checked").data("uitype",!0).data("ui",this),this.setChecked(this.opts.checked)},_bindEvent:function(){var e=this;this.dom.on("click.FUI",function(){if(e.opts.readonly)return!1;var t=e.dom.find("input[type=checkbox]");t.is(":checked")?e.setChecked(!1):e.setChecked(!0)})},getChecked:function(){return this.checked},setChecked:function(e){var t=this.dom.find("input");e?(this.dom.addClass("checked"),t.attr("checked",!0),this.checked=!0):(this.dom.removeClass("checked"),t.attr("checked",!1),this.checked=!1),this.opts.readonly||t.change()},setReadonly:function(e){e===!0?(this.opts.readonly=!0,this.dom.addClass("readonly")):(this.opts.readonly=!1,this.dom.removeClass("readonly"))},getValue:function(){var e=this.dom.find("input");return e.val()},trigger:function(e,t){},checked:!1},window.Checkbox=s}(jQuery,window.F);
!function(t,e,i){function o(i,o){this.opts=t.extend({},e.UI.RadioDefault,o),this.opts.selector=i,this._init()}e.UI.RadioDefault={selector:null,name:"",value:"",checked:!1,disable:!1,readonly:!1,cancel:!1},o.prototype={_init:function(){this.dom=this.opts.selector instanceof t?this.opts.selector:t(this.opts.selector),this._build(),this._bindEvent(),this.setChecked(this.opts.checked)},_build:function(){var t=this.dom.text(),e=this.opts.value?this.opts.value:t;this.dom.addClass("f_ui-radio").html('<i></i><input type="radio" name="'+this.opts.name+'" value="'+e+'" /> '+t),this.dom.removeAttr("value").removeAttr("checked").data("uitype",!0).data("ui",this),this.opts.readonly&&this.dom.addClass("readonly")},_bindEvent:function(){var t=this;this.dom.on("click",function(){if(t.opts.readonly)return!1;var e=t.dom.find("input[type=radio]");e.is(":checked")?t.opts.cancel!==!1&&t.setChecked(!1):t.setChecked(!0)})},getChecked:function(){return!!this.dom.find("input[type=radio]").attr("checked")},setChecked:function(e){var i=this.dom.find("input[type=radio]");e?(t('input[type=radio][name="'+this.opts.name+'"]').attr("checked",!1).parent().removeClass("checked"),this.dom.addClass("checked"),i.attr("checked",!0)):(this.dom.removeClass("checked"),i.attr("checked",!1)),this.opts.readonly||i.change()},getValue:function(){return this.dom.find("input[type=radio]").val()},setReadonly:function(t){t===!0?(this.opts.readonly=!0,this.dom.addClass("readonly")):(this.opts.readonly=!1,this.dom.removeClass("readonly"))}},o.getValue=function(e,i){var i=t(i||document);return i.find('input[type="radio"][name="'+e+'"]:checked').val()},window.Radio=o}(jQuery,window.F);
!function(t,e,s){function i(s,i){this.opts=t.extend({},e.UI.SwitchDefault,i),this.opts.selector=s,this._init()}e.UI.SwitchDefault={selector:null,checked:!1,disable:!1,readonly:!1},i.prototype={_init:function(){this.dom=this.opts.selector instanceof t?this.opts.selector:t(this.opts.selector),this._build(),this._bindEvent(),this.setChecked(this.opts.checked)},_build:function(){var e=this.dom,s=t.trim(e.text());e.addClass("f_ui-switch").html("<i></i>"),s.length&&e.addClass("switch-text").append("<span>"+s+"</span>"),e.data("uitype",!0),e.data("ui",this),this.opts.readonly&&e.addClass("readonly")},_bindEvent:function(){var t=this;this.dom.on("click",function(){return!t.opts.readonly&&void(t.dom.is(".checked")?t.setChecked(!1):t.setChecked(!0))})},getChecked:function(){return this.checked},setChecked:function(t){t?(this.dom.addClass("checked"),this.checked=!0):(this.dom.removeClass("checked"),this.checked=!1)},checked:!1,setReadonly:function(t){t===!0?(this.opts.readonly=!0,this.dom.addClass("readonly")):(this.opts.readonly=!1,this.dom.removeClass("readonly"))}},window.Switch=i}(jQuery,window.F);
!function(e,t,a){function o(t,a){var o=e.extend({eMsg:"亲，后台报错了~",status:0,type:"get",url:"",source:"list",key:"id",val:"name",width:"200",datas:!1,dataKey:"",height:"300",async:!1,ajaxParams:{},extralParams:"param",fitCondition:null,dataType:"json",contentType:!1,lenovo:!1,data:null,enName:!1,onMismatch:function(){return'<p style="padding:8px 10px; text-align:center;">搜到<b style="color:red;"> 0 </b>条记录</p>'},beforeClick:null,lastTpl:"",emptyShow:!0,inpEmptyShow:!0,autoSelect:!0,autoSelectVal:!1,clickEvent:null,callback:null},a||{});this.argsL=o;var i=this;this.dom=t instanceof e?t:e(t),this.listDom=e('<ul class="f_ui-droplist"></ul>').appendTo(e("body")),this.source=[],this.selectedTarget=[],this.getSelected=function(){return this.selectedTarget},this.getVal=function(t){var a="";return e.each(i.source,function(e,o){t==o.key&&(a=o.val)}),a},this.getKey=function(t){var a=[];return e.each(i.source,function(e,o){t==o.val&&a.push(o.key)}),a},this.resize=function(t){var t=e.extend({left:i.dom.offset().left,top:i.dom.offset().top+i.dom.outerHeight(),zIndex:100},t||{});i.listDom.css({left:t.left,top:t.top,zIndex:t.zIndex||100})},this.getSource=function(){return o.data?(i.source=o.data,!1):void e.ajax({url:this.argsL.url,type:o.type,async:!0,dataType:o.dataType,success:function(t){e.each(t[o.source],function(e,t){"undefined"!=typeof t.available&&o.fitCondition!=t.available?i.source.push({key:t[o.key],val:t[o.val],available:t.available,enName:t.hotelNameEng,extralParams:t[o.extralParams]}):i.source.push({key:t[o.key],val:t[o.val],enName:t.hotelNameEng,available:t.available})})}})},this.setAjaxParams=function(e){o.ajaxParams=e},this.ajaxSend=function(t,a){var l;if(e.isPlainObject(i.argsL.ajaxParams))l=e.extend(!1,{keyword:t},i.argsL.ajaxParams);else if(e.isFunction(this.option.ajaxParams))l=e.extend(!1,{keyword:t},i.argsL.ajaxParams.apply(this,[t]));else{if("string"!=typeof this.option.ajaxParams)throw"遇到未知的ajaxParams参数！";l="keyword="+t+"&"+i.argsL.ajaxParams}0!=o.datas&&(l=o.datas,l[o.dataKey]=t),o.contentType?e.ajax({url:this.argsL.url,type:o.type,async:!0,dataType:o.dataType,contentType:"application/json",data:JSON.stringify(l),success:function(t){a==d&&(i.source=[],0!=o.datas?t&&e.each(t,function(e,t){i.source.push({key:t[o.key],val:t[o.val],enName:t.hotelNameEng,available:t.available})}):t[o.source]&&e.each(t[o.source],function(e,t){i.source.push({key:t[o.key],val:t[o.val],enName:t.hotelNameEng,available:t.available})}),n())},error:function(e){console.log("ajax出错，请检查网络~")}}):e.ajax({url:this.argsL.url,type:o.type,async:!0,dataType:o.dataType,data:l,success:function(t){a==d&&(i.source=[],0!=o.datas?t&&e.each(t,function(e,t){i.source.push({key:t[o.key],val:t[o.val],enName:t.hotelNameEng,available:t.available})}):t[o.source]&&e.each(t[o.source],function(e,t){i.source.push({key:t[o.key],val:t[o.val],enName:t.hotelNameEng,available:t.available})}),n())},error:function(e){console.log("ajax出错，请检查网络~")}})},this.remove=function(){this.dom.unbind("click.droplist"),this.dom.unbind("keyup.droplist"),this.listDom.remove()};var l=function(t,a){if(i.argsL.enName&&a.enName)var l=e('<li title="'+a.val+'" data-key="'+a.key+'"><i>'+a.val+"</i><em>("+a.enName+")</em></li>");else var l=e('<li title="'+a.val+'" data-key="'+a.key+'">'+a.val+"</li>");a.available===!1&&l.addClass("gray").append('<span class="gray fr">审批中</span>'),l.on("click",function(){i.argsL.enName&&a.enName?i.dom.val(e(this).find("i").text()):i.dom.val(e(this).text()),i.listDom.hide(),i.selectedTarget=a,o.clickEvent&&o.clickEvent(a,i.dom)}).hover(function(){l.addClass("on").siblings().removeClass("on")}),i.listDom.append(l)},s=function(){e(o.lastTpl).on("click",function(){o.lastTplClickEvent&&o.lastTplClickEvent();var e=i.listDom.find("li.on");e=e.length?e:i.listDom.find("li").not(".more").eq(0),e.click(),i.listDom.hide()}).appendTo(i.listDom)},n=function(){if(i.source&&i.source.length){var t=i.source.length,a=0;e.each(i.source,function(e,n){o.async?o.lenovo?(n.val.toLowerCase().indexOf(i.dom.val().toLowerCase())!==-1?l(e,n):a++,t===a&&(o.emptyShow?i.listDom.show().append(o.onMismatch()):i.listDom.hide())):l(e,n):(n.val.toLowerCase().indexOf(i.dom.val().toLowerCase())!==-1?l(e,n):a++,t===a&&(o.emptyShow?i.listDom.show().append(o.onMismatch()):i.listDom.hide())),e==t-1&&s()})}else o.emptyShow?i.listDom.show().append(o.onMismatch()):i.listDom.hide(),s();i.listDom.find("li").length&&i.listDom.show().find("li").not(".more").eq(0).addClass("on")},d=1,r=function(){i.listDom.html(""),o.async?(d++,i.ajaxSend(i.dom.val(),d)):n()},c=function(e){var t=i.listDom.find("li"),a=t.index(i.listDom.find("li.on")),o=t.length-1;return 13===e?(i.listDom.find("li.on").click(),!1):(38===e&&(a=0==a?o:a-1),40===e&&(a=a==o?0:a+1),void t.eq(a).addClass("on").siblings().removeClass("on"))},m=function(){i.listDom.css({width:i.dom.outerWidth()-2,width:o.width,position:"absolute","z-index":"2000",left:i.dom.offset().left,top:i.dom.offset().top+i.dom.outerHeight()}),e(document).on("click.droplist",function(t){var a=parseInt(o.height);if(i.listDom.css({maxHeight:a}),i.listDom.is(":visible")){if(o.autoSelect!==!1){var l=i.listDom.find("li.on");l=l.length?l:i.listDom.find("li").not(".more").eq(0),o.autoSelectVal&&""==i.dom.val()?(i.listDom.hide(),i.dom.attr("data-id","")):l.click(),l.length||i.dom.attr("data-id","")}i.dom[0]===t.target?i.listDom.show():i.listDom.hide()}else""==i.dom.val()&&(i.listDom.hide(),i.dom.attr("data-id",""));i.listDom.css({left:i.dom.offset().left,top:i.dom.offset().top+i.dom.outerHeight()}),0==parseInt(i.listDom.css("left"))&&i.listDom.css({left:i.dom.offset().left,top:i.dom.offset().top+i.dom.outerHeight()}),e(window).resize(function(){i.listDom.css({left:i.dom.offset().left,top:i.dom.offset().top+i.dom.outerHeight()})})}),i.listDom.on("click",function(e){e.stopPropagation()}),e("input").on("click",function(e){e.target!=i.dom&&i.listDom.hide()}),i.dom.on("keyup.droplist",function(e){if(i.listDom.is(":visible")&&e.stopPropagation(),37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode||13===e.keyCode)c(e.keyCode);else{if(o.beforeClick&&0==o.beforeClick(i.dom))return;if(0==o.inpEmptyShow&&""==i.dom.val())return i.listDom.hide(),void i.dom.attr("data-id","");if(i.timer&&clearTimeout(i.timer),i.timer=setTimeout(function(){r()},300),""==i.dom.val()){i.listDom.hide(),i.dom.attr("data-id","");var t={available:"",enName:"",key:"",val:""};o.clickEvent&&o.clickEvent(t,i.dom)}}}).on("click.droplist",function(t){if(!o.beforeClick||0!=o.beforeClick(i.dom)){if(0==o.inpEmptyShow&&""==i.dom.val())return i.listDom.hide(),void i.dom.attr("data-id","");var a=e(this),l=a.val();i.listDom.siblings(".f_ui-droplist").hide(),""!==l?i.getKey(l)&&r():r()}})},u=function(){!o.async&&i.getSource(),m()};u()}window.AutoComplete=window.DropDownRender=o}(jQuery,window.F);
function Pager(t){this.init(t),this.generPageHtml()}Pager.prototype={pagerid:"kkpager",mode:"link",pno:1,total:1,totalRecords:0,isShowFirstPageBtn:!0,isShowLastPageBtn:!0,isShowPrePageBtn:!0,isShowNextPageBtn:!0,isShowTotalPage:!0,isShowCurrPage:!0,isShowTotalRecords:!1,isGoPage:!0,isWrapedPageBtns:!0,isWrapedInfoTextAndGoPageBtn:!0,hrefFormer:"",hrefLatter:"",gopageWrapId:"kkpager_gopage_wrap",gopageButtonId:"kkpager_btn_go",gopageTextboxId:"kkpager_btn_go_input",lang:{firstPageText:"首页",firstPageTipText:"首页",lastPageText:"尾页",lastPageTipText:"尾页",prePageText:"上一页",prePageTipText:"上一页",nextPageText:"下一页",nextPageTipText:"下一页",totalPageBeforeText:"共",totalPageAfterText:"页",currPageBeforeText:"当前第",currPageAfterText:"页",totalInfoSplitStr:"/",totalRecordsBeforeText:"共",totalRecordsAfterText:"条数据",gopageBeforeText:"&nbsp;转到",gopageButtonOkText:"确定",gopageAfterText:"页",buttonTipBeforeText:"第",buttonTipAfterText:"页"},modify:function(t){$.extend(this._config,t),this.init(this._config),this.generPageHtml(this._config)},getLink:function(t){return 1==t?this.hrefFormer+this.hrefLatter:this.hrefFormer+"_"+t+this.hrefLatter},click:function(t){return!1},getHref:function(t){return"#"},focus_gopage:function(){var t=$("#"+this.gopageButtonId);$("#"+this.gopageTextboxId).attr("hideFocus",!0),t.show(),t.css("left","10px"),$("#"+this.gopageTextboxId).addClass("focus"),t.animate({left:"+=30"},50)},blur_gopage:function(){var t=this;setTimeout(function(){var e=$("#"+t.gopageButtonId);e.animate({left:"-=25"},100,function(){e.hide(),$("#"+t.gopageTextboxId).removeClass("focus")})},400)},keypress_gopage:function(){var t=arguments[0]||window.event,e=t.keyCode||t.charCode;return 8==e||(13==e?(this.gopage(),!1):!(!t.ctrlKey||99!=e&&118!=e)||!(e<48||e>57))},gopage:function(){var t=$("#"+this.gopageTextboxId).val();if(isNaN(t))return void $("#"+this.gopageTextboxId).val(this.next);var e=parseInt(t);e<1&&(e=1),e>this.total&&(e=this.total),"click"==this.mode?this._clickHandler(e):window.location=this.getLink(e)},selectPage:function(t){this._config.pno=t,this.generPageHtml(this._config,!0)},generPageHtml:function(t,e){!e&&this.inited||this.init(t);var a=this,s="",i="",o="",n="";this.isShowFirstPageBtn&&(s=this.hasPrv?"<a "+this._getHandlerStr(1)+' title="'+(this.lang.firstPageTipText||this.lang.firstPageText)+'">'+this.lang.firstPageText+"</a>":'<span class="disabled">'+this.lang.firstPageText+"</span>"),this.isShowPrePageBtn&&(i=this.hasPrv?"<a "+this._getHandlerStr(this.prv)+' title="'+(this.lang.prePageTipText||this.lang.prePageText)+'">'+this.lang.prePageText+"</a>":'<span class="disabled">'+this.lang.prePageText+"</span>"),this.isShowNextPageBtn&&(o=this.hasNext?"<a "+this._getHandlerStr(this.next)+' title="'+(this.lang.nextPageTipText||this.lang.nextPageText)+'">'+this.lang.nextPageText+"</a>":'<span class="disabled">'+this.lang.nextPageText+"</span>"),this.isShowLastPageBtn&&(n=this.hasNext?"<a "+this._getHandlerStr(this.total)+' title="'+(this.lang.lastPageTipText||this.lang.lastPageText)+'">'+this.lang.lastPageText+"</a>":'<span class="disabled">'+this.lang.lastPageText+"</span>");var g="",r='<span class="spanDot">...</span>',h='<span class="totalText">',l='<span class="totalInfoSplitStr">'+this.lang.totalInfoSplitStr+"</span>";this.isShowCurrPage?(h+=this.lang.currPageBeforeText+'<span class="currPageNum">'+this.pno+"</span>"+this.lang.currPageAfterText,this.isShowTotalPage?(h+=l,h+=this.lang.totalPageBeforeText+'<span class="totalPageNum">'+this.total+"</span>"+this.lang.totalPageAfterText):this.isShowTotalRecords&&(h+=l,h+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText)):this.isShowTotalPage?(h+=this.lang.totalPageBeforeText+'<span class="totalPageNum">'+this.total+"</span>"+this.lang.totalPageAfterText,this.isShowTotalRecords&&(h+=l,h+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText)):this.isShowTotalRecords&&(h+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText),h+="</span>";var p="";if(this.isGoPage&&(p='<span class="goPageBox">'+this.lang.gopageBeforeText+'<span class="f_ui-pager-gopage-wrap" id="'+this.gopageWrapId+'"><input type="button" class="f_ui-pager-btn-go" id="'+this.gopageButtonId+'" value="'+this.lang.gopageButtonOkText+'" /><input type="text" class="f_ui-pager-btn-go-input" id="'+this.gopageTextboxId+'"  value="'+this.next+'" /></span>'+this.lang.gopageAfterText+"</span>"),this.total<=8)for(var d=1;d<=this.total;d++)g+=this.pno==d?'<span class="curr">'+d+"</span>":"<a "+this._getHandlerStr(d)+' title="'+this.lang.buttonTipBeforeText+d+this.lang.buttonTipAfterText+'">'+d+"</a>";else if(this.pno<=5){for(var d=1;d<=7;d++)g+=this.pno==d?'<span class="curr">'+d+"</span>":"<a "+this._getHandlerStr(d)+' title="'+this.lang.buttonTipBeforeText+d+this.lang.buttonTipAfterText+'">'+d+"</a>";g+=r}else{g+="<a "+this._getHandlerStr(1)+' title="'+this.lang.buttonTipBeforeText+"1"+this.lang.buttonTipAfterText+'">1</a>',g+="<a "+this._getHandlerStr(2)+' title="'+this.lang.buttonTipBeforeText+"2"+this.lang.buttonTipAfterText+'">2</a>',g+=r;var c=this.pno-2,f=this.pno+2;f>this.total?(f=this.total,c=f-4,this.pno-c<2&&(c-=1)):f+1==this.total&&(f=this.total);for(var d=c;d<=f;d++)g+=this.pno==d?'<span class="curr">'+d+"</span>":"<a "+this._getHandlerStr(d)+' title="'+this.lang.buttonTipBeforeText+d+this.lang.buttonTipAfterText+'">'+d+"</a>";f!=this.total&&(g+=r)}var T="<div>";T+=this.isWrapedPageBtns?'<span class="pageBtnWrap">'+s+i+g+o+n+"</span>":s+i+g+o+n,T+=this.isWrapedInfoTextAndGoPageBtn?'<span class="infoTextAndGoPageBtnWrap">'+h+p+"</span>":h+p,T+='</div><div style="clear:both;"></div>',$("#"+this.pagerid).addClass("f_ui-pager").html(T);var x=$("#"+this.pagerid);"click"===a.mode&&x.find(".pageBtnWrap a").on("click",function(){return a._clickHandler($(this).attr("data-no")),!1}),this.isGoPage&&(x.find("#"+this.gopageButtonId).on("click",function(){return a.gopage(),!1}),x.find("#"+this.gopageTextboxId).on("click",function(){return a.focus_gopage(),!1}).on("keypress",function(t){return a.keypress_gopage(t)}).on("onblur",function(t){a.blur_gopage()}))},init:function(t){if(this.pno=isNaN(t.pno)?1:parseInt(t.pno),this.total=isNaN(t.total)?1:parseInt(t.total),this.totalRecords=isNaN(t.totalRecords)?0:parseInt(t.totalRecords),t.pagerid&&(this.pagerid=t.pagerid),t.mode&&(this.mode=t.mode),t.gopageWrapId&&(this.gopageWrapId=t.gopageWrapId),t.gopageButtonId&&(this.gopageButtonId=t.gopageButtonId),t.gopageTextboxId&&(this.gopageTextboxId=t.gopageTextboxId),void 0!=t.isShowFirstPageBtn&&(this.isShowFirstPageBtn=t.isShowFirstPageBtn),void 0!=t.isShowLastPageBtn&&(this.isShowLastPageBtn=t.isShowLastPageBtn),void 0!=t.isShowPrePageBtn&&(this.isShowPrePageBtn=t.isShowPrePageBtn),void 0!=t.isShowNextPageBtn&&(this.isShowNextPageBtn=t.isShowNextPageBtn),void 0!=t.isShowTotalPage&&(this.isShowTotalPage=t.isShowTotalPage),void 0!=t.isShowCurrPage&&(this.isShowCurrPage=t.isShowCurrPage),void 0!=t.isShowTotalRecords&&(this.isShowTotalRecords=t.isShowTotalRecords),t.isWrapedPageBtns&&(this.isWrapedPageBtns=t.isWrapedPageBtns),t.isWrapedInfoTextAndGoPageBtn&&(this.isWrapedInfoTextAndGoPageBtn=t.isWrapedInfoTextAndGoPageBtn),void 0!=t.isGoPage&&(this.isGoPage=t.isGoPage),t.lang)for(var e in t.lang)this.lang[e]=t.lang[e];this.hrefFormer=t.hrefFormer||"",this.hrefLatter=t.hrefLatter||"",t.getLink&&"function"==typeof t.getLink&&(this.getLink=t.getLink),t.click&&"function"==typeof t.click&&(this.click=t.click),t.getHref&&"function"==typeof t.getHref&&(this.getHref=t.getHref),this._config||(this._config=t),this.pno<1&&(this.pno=1),this.total=this.total<=1?1:this.total,this.pno>this.total&&(this.pno=this.total),this.prv=this.pno<=2?1:this.pno-1,this.next=this.pno>=this.total-1?this.total:this.pno+1,this.hasPrv=this.pno>1,this.hasNext=this.pno<this.total,this.inited=!0},_getHandlerStr:function(t){return"click"==this.mode?'href="'+this.getHref(t)+'" data-no="'+t+'"':'href="'+this.getLink(t)+'"'},_clickHandler:function(t){var e=!1;return this.click&&"function"==typeof this.click&&(e=this.click.call(this,t)||!1),e}};
!function(t){t.fn.citySelect=function(i){if(!(this.length<1)){i=t.extend({url:"../js/city.min.js",prov:null,city:null,dist:null,nodata:null,required:!0,div:!1},i);var n,e=this,l=e.find(".prov"),s=e.find(".city"),o=e.find(".dist"),d=(i.prov,i.city,i.dist,i.required?"":"<option value=''>请选择</option>"),c=i.required?"":"<li attrName=''>请选择</li>",a=function(){if(i.div){var e=l.find("li.cur").index();if(i.required||e--,s.find("h3").html("选择城市"),s.find("input").val(""),s.find("ul").empty(),o.find("h3").html("选择区/县"),o.find("input").val(""),o.find("ul").empty(),e<0||"undefined"==typeof n.citylist[e].c)return void("none"==i.nodata?(s.css("display","none"),o.css("display","none")):(s.css("display","block"),o.css("display","block")));temp_html=c,t.each(n.citylist[e].c,function(t,i){temp_html+="<li attrName='"+i.n+"'>"+i.n+"</li>"}),s.find("ul").html(temp_html),s.find("li").on("click",function(){t(this).addClass("cur").siblings().removeClass("cur");var i=t(this).html(),n=t(this).attr("attrName");n!=s.find("input").val()&&(s.find("h3").html(i),s.find("input").val(n),s.find(".City_components_list").toggle(),p())})}else{var e=l.get(0).selectedIndex;if(i.required||e--,s.empty().attr("disabled",!0),o.empty().attr("disabled",!0),e<0||"undefined"==typeof n.citylist[e].c)return void("none"==i.nodata?(s.css("display","none"),o.css("display","none")):"hidden"==i.nodata&&(s.css("visibility","hidden"),o.css("visibility","hidden")));temp_html=d,"请选择"!=n.citylist[e].c[0].n&&(temp_html+="<option value=''>请选择</option>"),t.each(n.citylist[e].c,function(t,i){temp_html+="<option value='"+i.n+"'>"+i.n+"</option>"}),s.html(temp_html).attr("disabled",!1).css({display:"",visibility:""})}p()},p=function(){if(i.div){var e=l.find("li.cur").index(),a=s.find("li.cur").index();if(a==-1)return;if(i.required||(e--,a--),o.find("h3").html("选择区/县"),o.find("input").val(""),o.find("ul").empty(),e<0||a<0||"undefined"==typeof n.citylist[e].c[0].a)return void("none"==i.nodata?o.css("display","none"):o.css("display","block"));o.css("display","block"),temp_html=c,t.each(n.citylist[e].c[a].a,function(t,i){temp_html+="<li attrName='"+i.s+"'>"+i.s+"</option>"}),o.find("ul").html(temp_html),o.find("li").on("click",function(){t(this).addClass("cur").siblings().removeClass("cur");var i=t(this).html(),n=t(this).attr("attrName");o.find("h3").html(i),o.find("input").val(n),o.find(".City_components_list").toggle()})}else{var e=l.get(0).selectedIndex,a=s.get(0).selectedIndex;if(i.required||(e--,a--),o.empty().attr("disabled",!0),temp_html=d,"请选择"!=n.citylist[e].c[0].n&&"请选择"!=s.find("option").eq(a).html()){if(e<0||a<0||"undefined"==typeof n.citylist[e].c[a-1].a)return void("none"==i.nodata?o.css("display","none"):"hidden"==i.nodata&&o.css("visibility","hidden"));temp_html+="<option value=''>请选择</option>",t.each(n.citylist[e].c[a-1].a,function(t,i){temp_html+="<option value='"+i.s+"'>"+i.s+"</option>"})}else temp_html+="<option value='请选择'>请选择</option>";o.html(temp_html).attr("disabled",!1).css({display:"",visibility:""})}},m=function(){i.div?(temp_html=c,t.each(n.citylist,function(t,i){temp_html+="<li attrName='"+i.p+"'>"+i.p+"</li>"}),l.find("ul").html(temp_html),s.find("input").bind("change",function(){p()}),l.find("li").on("click",function(){t(this).addClass("cur").siblings().removeClass("cur");var i=t(this).html(),n=t(this).attr("attrName");n!=l.find("input").val()&&(l.find("h3").html(i),l.find("input").val(n),l.find(".City_components_list").toggle(),a())}),t(".City_components h3").on("click",function(){var i=t(this).next(".City_components_list").css("display");t(".City_components_list").hide(),t(this).next(".City_components_list").find("li").length<1||"none"==i&&t(this).next(".City_components_list").show()}),t("body,html").on("click",function(){t(".City_components_list").hide()}),t(".City_components").on("click",function(t){window.event?window.event.cancelBubble=!0:t.stopPropagation()})):(temp_html=d,t.each(n.citylist,function(t,i){temp_html+="<option value='"+i.p+"'>"+i.p+"</option>"}),l.html(temp_html),setTimeout(function(){null!=i.prov&&(l.val(i.prov),a(),setTimeout(function(){null!=i.city&&(s.val(i.city),p(),setTimeout(function(){null!=i.dist&&o.val(i.dist)},1))},1))},1),l.bind("change",function(){a()}),s.bind("change",function(){p()}))};"string"==typeof i.url?t.getJSON(i.url,function(t){n=t,m()}):(n=i.url,m())}}}(jQuery);
!function(t){function a(t,a,e,n,i){t.empty(),t.append("<option value=''>请选择</option>");for(var s=0;s<e;s++){var h=parseInt(a)>40?parseInt(a)-s:parseInt(a)+s;h==n?t.append("<option selected='selected' value='"+h+"'>"+h+i+"</option>"):t.append("<option value='"+h+"'>"+h+i+"</option>")}}t.fn.DateSelector=function(e){e=e||{},this._options={ctlYearId:null,ctlMonthId:null,ctlDayId:null,defYear:0,defMonth:0,defDay:0,minYear:1882,maxYear:(new Date).getFullYear()};for(var n in e)this._options[n]=e[n];this.yearValueId=t("#"+this._options.ctlYearId),this.monthValueId=t("#"+this._options.ctlMonthId),this.dayValueId=t("#"+this._options.ctlDayId);var i=new Date,s=parseInt(this.monthValueId.attr("data")||this._options.defMonth),h=parseInt(this.dayValueId.attr("data")||this._options.defDay),o=parseInt(this._options.minYear),r=parseInt(this._options.maxYear);this.Year=parseInt(this.yearValueId.attr("data")||this._options.defYear)||"",s?this.Month=1<=s&&s<=12?s:i.getMonth()+1:this.Month="",h?this.Day=h>0?h:i.getDate():this.Day="",this.minYear=o&&o<this.Year?o:this.Year?this.Year:o,this.maxYear=r&&r>this.Year?r:this.Year,a(this.yearValueId,this.maxYear,this.maxYear-this.minYear+1,this.Year,"年"),a(this.monthValueId,1,12,this.Month,"月");var d=new Date(this.Year,this.Month,0).getDate();this.Day>d&&(this.Day=d),a(this.dayValueId,1,d,this.Day,"日");var l=this;this.yearValueId.change(function(){l.Year=parseInt(t(this).val()),a(l.monthValueId,1,12,l.Month,"月"),l.monthValueId.change()}),this.monthValueId.change(function(){l.Month=parseInt(t(this).val());var e=new Date(l.Year,l.Month,0).getDate();l.Day>e&&(l.Day=e),a(l.dayValueId,1,e,l.Day,"日")}),this.dayValueId.change(function(){l.Day=parseInt(t(this).val())})}}(jQuery);
function timeModule(t){this.opts={id:"",selectList:null,clearList:null,selectDateList:[]};for(var e in t)for(var s in this.opts)e==s&&(this.opts[s]=t[e]);return""!=this.opts.id&&(this.parentBox=this.$("#"+this.opts.id),void this.initialize())}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,s=Number(arguments[1])||0;for(s=s<0?Math.ceil(s):Math.floor(s),s<0&&(s+=e);s<e;s++)if(s in this&&this[s]===t)return s;return-1}),timeModule.prototype={initialize:function(t){var e=new Date;this.monthNow=parseInt(e.getMonth()+1),this.yearNow=parseInt(e.getFullYear());this.selectDateList=this.returnSelectDateList(this.opts.selectDateList),this.selectDateList=[],this.selectDateList=this.opts.selectDateList.split(","),this.showHtml()},returnSelectDateList:function(t){if(""==t.length)return[];for(var e=t.split(","),s=0;s<e.length;s++){var a=e[s].split("-");e[s]=a[0]+"-"+parseInt(a[1])+"-"+parseInt(a[2])}return e},$:function(t,e){var s,a,i,n=[],l=t.substring(1);if(e=e||document,"string"==typeof t)switch(t.charAt(0)){case"#":return document.getElementById(l);case".":if(e.getElementsByClassName)return e.getElementsByClassName(l);for(s=Vcity._m.$("*",e),a=s.length,i=0;i<a;i++)s[i].className.indexOf(l)>-1&&n.push(s[i]);return n;default:return e.getElementsByTagName(t)}},on:function(t,e,s){t&&(t.addEventListener?t.addEventListener(e,s,!1):t.attachEvent("on"+e,s))},getClassNames:function(t,e){if(document.getElementsByClassName)return document.getElementsByClassName(t);var s=document.getElementsByTagName(e),a=[];for(i=0;i<s.length;i++)this.hasClass(t,s[i])&&a.push(s[i]);return a},getTarget:function(t){return t.target||t.srcElement},hasClass:function(t,e){return!(!e||!e.className||""==e.className)&&e.className.indexOf(t)>-1},addClass:function(t,e){e&&(e.className=this.hasClass(t,e)?e.className:e.className+" "+t)},removeClass:function(t,e){var s=new RegExp("(^|\\s+)"+t+"(\\s+|$)","g");this.hasClass(t,e)&&(e.className=s.test(e.className)?e.className.replace(s,""):e.className)},Rnub:function(t){return parseInt(t)<10?"0"+t:t+""},showHtml:function(){var t=this.yearNow,e=this.monthNow,s=new Date(t,e,0).getDate(),a=parseInt((new Date).getFullYear())+this.Rnub((new Date).getMonth()+1)+this.Rnub((new Date).getDate()),i=this.divBox=document.createElement("div");i.className="timeModule-div";var n=this.divTop=document.createElement("div");n.className="timeModule-titleDiv";var l=this.leftBtnTop=document.createElement("a");l.className="time-leftBtn",l.innerHTML="<",n.appendChild(l);var r=this.rightBtnTop=document.createElement("a");r.className="time-rightBtn",r.innerHTML=">",n.appendChild(r);var d='<div class="datepicker-title"><span id="yearSpan">'+t+'年</span> <span id="monthSpan">'+e+"月</span></div>";n.innerHTML+=d,i.appendChild(n);var c=(this.tabList=document.createElement("table"),"<table class='time-table01' cellpadding='0' cellspacing='0' width='100%'><tr><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th><th>日</th></tr>"),h=parseInt(new Date(t+"/"+e+"/1").getDay());0==h&&(h=7);for(var o="<tr>",m="<tr>",u="<tr>",p="<tr>",f="<tr>",v="<tr>",g=1;g<h;g++)o+="<td></td>";for(var w=1;w<s+1;w++){var N=t+"-"+e+"-"+w;w<9-h?o+=this.selectDateList.indexOf(N)>-1?"<td class='timeShowTd timeSelected' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":parseInt(t+this.Rnub(e)+this.Rnub(w))<parseInt(a)?"<td class='Clickdisabled' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":"<td class='timeShowTd' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":w<16-h?m+=this.selectDateList.indexOf(N)>-1?"<td class='timeShowTd timeSelected' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":parseInt(t+this.Rnub(e)+this.Rnub(w))<parseInt(a)?"<td class='Clickdisabled' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":"<td class='timeShowTd' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":w<23-h?u+=this.selectDateList.indexOf(N)>-1?"<td class='timeShowTd timeSelected' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":parseInt(t+this.Rnub(e)+this.Rnub(w))<parseInt(a)?"<td class='Clickdisabled' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":"<td class='timeShowTd' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":w<30-h?p+=this.selectDateList.indexOf(N)>-1?"<td class='timeShowTd timeSelected' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":parseInt(t+this.Rnub(e)+this.Rnub(w))<parseInt(a)?"<td class='Clickdisabled' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":"<td class='timeShowTd' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":w<37-h?f+=this.selectDateList.indexOf(N)>-1?"<td class='timeShowTd timeSelected' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":parseInt(t+this.Rnub(e)+this.Rnub(w))<parseInt(a)?"<td class='Clickdisabled' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":"<td class='timeShowTd' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":w<43-h&&(v+=this.selectDateList.indexOf(N)>-1?"<td class='timeShowTd timeSelected' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":parseInt(t+this.Rnub(e)+this.Rnub(w))<parseInt(a)?"<td class='Clickdisabled' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>":"<td class='timeShowTd' date='"+t+"-"+e+"-"+w+"'>"+w+"</td>")}if(37-h>s)for(var D=0;D<37-h-s-1;D++)f+="<td></td>";else for(var D=0;D<43-h-s;D++)v+="<td></td>";o+="</tr>",m+="</tr>",u+="</tr>",p+="</tr>",f+="</tr>",v+="</tr>",c+=o+m+u+p+f,37-h<s&&(c+=v),c+="</table>",i.innerHTML+=c,i.innerHTML+="<p class='clearBox'><a class='clearBtn' href='javascript:void(0)'>清空所有不可用日期</a></p>",this.parentBox.innerHTML="",this.parentBox.appendChild(i),this.prev(),this.next(),this.selectDate(),this.clearselectDate()},prev:function(){var t=this.$("a",this.divBox)[0],e=this;e.on(t,"click",function(){1==e.monthNow?(e.monthNow=12,e.yearNow-=1):e.monthNow-=1,e.showHtml()})},next:function(){var t=this.$("a",this.divBox)[1],e=this;e.on(t,"click",function(){12==e.monthNow?(e.monthNow=1,e.yearNow+=1):e.monthNow+=1,e.showHtml()})},selectDate:function(){var t=(this.getClassNames("time-table01","table")[0],this);t.on(t.divBox,"click",function(e){var s=t.getTarget(e);if(t.hasClass("timeShowTd",s)){if(t.hasClass("timeSelected",s)){t.removeClass("timeSelected",s);var a=s.getAttribute("date");t.selectDateList.remove(a)}else{t.addClass("timeSelected",s);var a=s.getAttribute("date");t.selectDateList.push(a)}t.opts.selectList&&t.opts.selectList(t.selectDateList)}})},clearselectDate:function(){var t=this.$("p",this.divBox)[0],e=this;e.on(t,"click",function(t){var s=e.getTarget(t);"A"==s.nodeName&&(e.selectDateList.splice(0,e.selectDateList.length),e.showHtml(),e.opts.clearList())})}};
$.fn.numeral=function(e,t,i,a,l){function s(){var e="";if(window.getSelection)if(!document.activeElement||"textarea"!=document.activeElement.tagName.toLowerCase()&&"input"!=document.activeElement.tagName.toLowerCase()){var t=window.getSelection();e=t.toString()}else{var i=document.activeElement.value;e=i.substring(document.activeElement.selectionStart,document.activeElement.selectionEnd)}else if(document.selection.createRange){var a=document.selection.createRange();e=a.text}return e}$(this).keypress(function(l){var n=l.keyCode?l.keyCode:l.which;if(t&&45==n&&this.value.indexOf("-")!=-1)return!1;if("0"==this.value&&this.selectionStart>0)return e&&46==n||8==n;var u=s(),v=u.length>0&&n>=48&&n<=57;if(e){if((0==this.value.length||this.value.indexOf(".")!=-1)&&46==n)return!1;var h=this.selectionStart,r=this.value,c=!0;if(null!=a&&r.indexOf(".")!=-1&&r.indexOf(".")!=r.length-1){var f=r.indexOf(".");if(f!=r.length-1){var d=r.substr(f+1);c=!(d.length>=a&&h>f)}}var o=!0;if(null!=i)if(r.indexOf(".")!=-1)if("0"==r.substr(0,1)&&1==h)o=!1;else{var f=r.indexOf("."),d=r.substr(0,f);o=!(d.length>=i&&h<=f)}else o=r.length<i;return v||o&&c&&n>=48&&n<=57||46==n||8==n||37==n||39==n||!!t&&45==n}var o=!0;return null!=i&&(o=this.value.length<i),v||o&&n>=48&&n<=57||8==n||37==n||39==n||!!t&&45==n}),$(this).bind("copy cut paste",function(e){return window.clipboardData?!clipboardData.getData("text").match(/\D/):void event.preventDefault()}),$(this).bind("dragenter",function(){return!1}),$(this).css("ime-mode","disabled"),$(this).bind("focus",function(){if(this.value.lastIndexOf(".")==this.value.length-1&&(this.value=this.value.substr(0,this.value.length-1)),isNaN(this.value)){var e=this.value.indexOf("-")>-1;e?(t?this.value="-"+this.value.replace(/-/g,""):this.value=this.value.replace(/-/g,""),isNaN(this.value)&&(this.value="")):this.value=""}}),$(this).bind("blur",function(){var e=!0;if(isNaN(this.value))this.value="",e=!1;else{this.value.lastIndexOf(".")==this.value.length-1&&(this.value=this.value.substr(0,this.value.length-1));var s=this.value.indexOf("-")>-1;if(s&&(t?this.value="-"+this.value.replace(/-/g,""):this.value=this.value.replace(/-/g,""),e=!1,isNaN(this.value)&&(this.value="")),null!=i)if(this.value.indexOf(".")!=-1){var n=this.value.indexOf("."),u=this.value.substr(0,n);u.length>i?(this.value="",e=!1):isNaN(u)&&(this.value="",e=!1)}else this.value.length>i?(this.value="",e=!1):isNaN(this.value)&&(this.value="",e=!1);if(null!=a&&this.value.indexOf(".")!=-1){var n=this.value.indexOf(".");if(n!=this.value.length-1){var u=this.value.substr(n+1);u.length>a&&(this.value=this.value.substr(0,n+3),e=!1)}}}!e&&l&&l()})};