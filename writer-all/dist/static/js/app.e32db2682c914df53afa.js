webpackJsonp([1],{0:function(t,e,a){a("j1ja"),t.exports=a("NHnr")},"7hNV":function(t,e){},C8ec:function(t,e){},F7NO:function(t,e){t.exports="data:image/gif;base64,R0lGODlhIAAgALMAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAAACwAAAAAIAAgAAAE5xDISSlLrOrNp0pKNRCdFhxVolJLEJQUoSgOpSYT4RowNSsvyW1icA16k8MMMRkCBjskBTFDAZyuAEkqCfxIQ2hgQRFvAQEEIjNxVDW6XNE4YagRjuBCwe60smQUDnd4Rz1ZAQZnFAGDd0hihh12CEE9kjAEVlycXIg7BAsMB6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YEvpJivxNaGmLHT0VnOgGYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHQjYKhKP1oZmADdEAAAh+QQFBQAAACwAAAAAGAAXAAAEchDISasKNeuJFKoHs4mUYlJIkmjIV54Soypsa0wmLSnqoTEtBw52mG0AjhYpBxioEqRNy8V0qFzNw+GGwlJki4lBqx1IBgjMkRIghwjrzcDti2/Gh7D9qN774wQGAYOEfwCChIV/gYmDho+QkZKTR3p7EQAh+QQFBQAAACwBAAAAHQAOAAAEchDISWdANesNHHJZwE2DUSEo5SjKKB2HOKGYFLD1CB/DnEoIlkti2PlyuKGEATMBaAACSyGbEDYD4zN1YIEmh0SCQQgYehNmTNNaKsQJXmBuuEYPi9ECAU/UFnNzeUp9VBQEBoFOLmFxWHNoQw6RWEocEQAh+QQFBQAAACwHAAAAGQARAAAEaRDICdZZNOvNDsvfBhBDdpwZgohBgE3nQaki0AYEjEqOGmqDlkEnAzBUjhrA0CoBYhLVSkm4SaAAWkahCFAWTU0A4RxzFWJnzXFWJJWb9pTihRu5dvghl+/7NQmBggo/fYKHCX8AiAmEEQAh+QQFBQAAACwOAAAAEgAYAAAEZXCwAaq9ODAMDOUAI17McYDhWA3mCYpb1RooXBktmsbt944BU6zCQCBQiwPB4jAihiCK86irTB20qvWp7Xq/FYV4TNWNz4oqWoEIgL0HX/eQSLi69boCikTkE2VVDAp5d1p0CW4RACH5BAUFAAAALA4AAAASAB4AAASAkBgCqr3YBIMXvkEIMsxXhcFFpiZqBaTXisBClibgAnd+ijYGq2I4HAamwXBgNHJ8BEbzgPNNjz7LwpnFDLvgLGJMdnw/5DRCrHaE3xbKm6FQwOt1xDnpwCvcJgcJMgEIeCYOCQlrF4YmBIoJVV2CCXZvCooHbwGRcAiKcmFUJhEAIfkEBQUAAAAsDwABABEAHwAABHsQyAkGoRivELInnOFlBjeM1BCiFBdcbMUtKQdTN0CUJru5NJQrYMh5VIFTTKJcOj2HqJQRhEqvqGuU+uw6AwgEwxkOO55lxIihoDjKY8pBoThPxmpAYi+hKzoeewkTdHkZghMIdCOIhIuHfBMOjxiNLR4KCW1ODAlxSxEAIfkEBQUAAAAsCAAOABgAEgAABGwQyEkrCDgbYvvMoOF5ILaNaIoGKroch9hacD3MFMHUBzMHiBtgwJMBFolDB4GoGGBCACKRcAAUWAmzOWJQExysQsJgWj0KqvKalTiYPhp1LBFTtp10Is6mT5gdVFx1bRN8FTsVCAqDOB9+KhEAIfkEBQUAAAAsAgASAB0ADgAABHgQyEmrBePS4bQdQZBdR5IcHmWEgUFQgWKaKbWwwSIhc4LonsXhBSCsQoOSScGQDJiWwOHQnAxWBIYJNXEoFCiEWDI9jCzESey7GwMM5doEwW4jJoypQQ743u1WcTV0CgFzbhJ5XClfHYd/EwZnHoYVDgiOfHKQNREAIfkEBQUAAAAsAAAPABkAEQAABGeQqUQruDjrW3vaYCZ5X2ie6EkcKaooTAsi7ytnTq046BBsNcTvItz4AotMwKZBIC6H6CVAJaCcT0CUBTgaTg5nTCu9GKiDEMPJg5YBBOpwlnVzLwtqyKnZagZWahoMB2M3GgsHSRsRACH5BAUFAAAALAEACAARABgAAARcMKR0gL34npkUyyCAcAmyhBijkGi2UW02VHFt33iu7yiDIDaD4/erEYGDlu/nuBAOJ9Dvc2EcDgFAYIuaXS3bbOh6MIC5IAP5Eh5fk2exC4tpgwZyiyFgvhEMBBEAIfkEBQUAAAAsAAACAA4AHQAABHMQyAnYoViSlFDGXBJ808Ep5KRwV8qEg+pRCOeoioKMwJK0Ekcu54h9AoghKgXIMZgAApQZcCCu2Ax2O6NUud2pmJcyHA4L0uDM/ljYDCnGfGakJQE5YH0wUBYBAUYfBIFkHwaBgxkDgX5lgXpHAXcpBIsRADs="},FSXZ:function(t,e){},JIih:function(t,e){},JTAK:function(t,e){},JdMy:function(t,e){},NHnr:function(t,e,a){"use strict";function i(t){a("Q9rP")}function s(t){a("Rhj+")}function n(t){a("JdMy")}function r(t){a("msop")}function o(t){a("dQ5A")}function l(t){a("7hNV")}function c(t){a("JTAK")}function d(t){a("C8ec")}function u(t){a("bqrQ")}function v(t){a("qqmq")}function h(t){a("FSXZ")}function p(t){a("JIih")}function m(t){a("OG12")}Object.defineProperty(e,"__esModule",{value:!0});var f=(a("tvR6"),a("qBF2")),g=a.n(f),_=a("7+uW"),w=a("7t+N"),C=a.n(w),y=a("V33R"),b=a.n(y),x={data:function(){return{isLogoutShow:!1,loginState:!1,username:""}},created:function(){this.getUserInfo()},mounted:function(){this.copy()},methods:{copy:function(){var t=this;this.clipboard=new b.a(".js-copy"),this.clipboard.on("success",function(e){"false"==e.text?t.$alert("请完成文章写作后，再进行一键复制","提示",{type:"warning"}):"false-title"==e.text?t.$alert("请输入标题后，再进行一键复制","提示",{type:"warning"}):"false-author"==e.text?t.$alert("请输入作者后，再进行一键复制","提示",{type:"warning"}):"false-time"==e.text?t.$alert("请输入文章时间后，再进行一键复制","提示",{type:"warning"}):"false-content"==e.text?t.$alert("请输入文章内容后，再进行一键复制","提示",{type:"warning"}):t.$alert("已将文章内容复制到粘贴板","提示",{type:"success"})}),this.clipboard.on("error",function(e){t.$alert("复制失败，您的浏览器不支持","提示",{type:"warning"})})},logout:function(){C.a.ajax({url:apiHost+"/industry-bulletin//auth/logout",type:"POST",data:{},success:function(t){0==t.code&&(location.href="./login.html")}})},getUserInfo:function(){var t=this,e=setTimeout(function(){t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3)},5e3);C.a.ajax({url:apiHost+"/industry-bulletin/user/info",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{},success:function(a){clearTimeout(e),0==a.code&&(t.username=a.data.username)},error:function(a){clearTimeout(e),"9001"==a.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})}}},A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-content clearfix"},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:{path:"/"},tag:"a"}},[t._v("\n          写作机器人\n        ")])],1),t._v(" "),a("div",{staticClass:"user"},[a("span",[t._v(t._s(t.username))]),t._v(" "),a("div",{staticClass:"logout"},[a("router-link",{staticClass:"account",attrs:{to:{path:"/user"},tag:"p"}},[t._v("账户")]),t._v(" "),a("p",{staticClass:"out",on:{click:t.logout}},[t._v("退出账号")])],1)])])]),t._v(" "),a("div",{staticClass:"shade"}),t._v(" "),a("div",{staticClass:"main clearfix"},[a("router-view")],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loginState,expression:"loginState"}],staticClass:"model"},[t._m(0)])])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("a",{attrs:{href:"javascript:;"}},[a("b",[t._v("!")]),t._v("\n        登陆过期，请重新登陆。\n      ")])])}],L={render:A,staticRenderFns:D},S=L,k=a("VU/8"),N=i,T=k(x,S,!1,N,null,null),F=T.exports,E=a("/ocq"),B={data:function(){return{classList:[]}},created:function(){this.getMenuList()},methods:{getMenuList:function(){var t=this;C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/robot_list",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{class_id:0},success:function(e){if(0==e.code){t.classList=e.data;for(var a=0;a<t.classList.length;a++)1==t.classList[a].class_id&&(t.classList[a].path="/index/write"),2==t.classList[a].class_id&&(t.classList[a].path="/index/resource"),3==t.classList[a].class_id&&(t.classList[a].path="/index/data")}},error:function(t){"9001"==t.status&&(location.href="./login.html")}})}}},I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"index"}},[a("div",{staticClass:"aside-menu"},[a("ul",t._l(t.classList,function(e){return a("li",[a("router-link",{attrs:{to:{path:e.path}}},[t._v(t._s(e.class_name))])],1)}))]),t._v(" "),a("div",{staticClass:"index-main"},[a("router-view",{attrs:{classList:t.classList}})],1)])},$=[],H={render:I,staticRenderFns:$},j=H,Q=a("VU/8"),P=s,O=Q(B,j,!1,P,null,null),M=O.exports,R={data:function(){return{startDate:"",endDate:"",checkAll:!1,checkTrades:[],allTrades:[],isIndeterminate:!0,loginState:!1,loadingShow:!1}},created:function(){var t=this;t.startDate=new Date((new Date).getTime()-2592e5),t.endDate=new Date,t.getTradesData()},methods:{getTradesData:function(){var t=this;t.loadingShow=!0,t.allTrades=[],C.a.ajax({url:apiHost+"/industry-bulletin/brief/trade/list",type:"post",xhrFields:{withCredentials:!0},crossDomain:!0,data:{},success:function(e){"0"==e.code&&(t.loadingShow=!1,t.allTrades=e.data)},error:function(e){"9001"==e.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})},CheckAllChange:function(t){var e=this;e.checkTrades=[],t?e.allTrades.map(function(t){e.checkTrades.push(t.classId)}):e.checkTrades=[],e.isIndeterminate=!1},checkTradesChange:function(t){console.log(t);var e=t.length;this.checkAll=e==this.allTrades.length,this.isIndeterminate=e>0&&e<this.allTrades.length},createReport:function(){var t=this;if(0==t.checkTrades.length)return t.$notify({title:"提示",message:"请至少选择一项行业类别",type:"warning",offset:300}),!1;var e=t.checkTrades.toString(),a=t.formatDate(t.startDate),i=t.formatDate(t.endDate);t.$router.push({path:"/content",query:{classId:e,sdate:a,edate:i}})},startDateChange:function(t){var e=this;(new Date).getTime()-t.getTime()>31536e6&&(e.$notify({title:"提示",message:"开始日期不能选择一年之前",type:"warning",offset:300}),e.startDate=new Date((new Date).getTime()-2592e5))},endDateChange:function(t){var e=this,a=e.startDate.getTime(),i=t.getTime();(i-a>2592e6||i-a<0)&&(e.$notify({title:"提示",message:"从开始日期到结束日期，最少一天，最多31天",type:"warning",offset:300}),e.endDate=new Date)},formatDate:function(t){var e=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var i=t.getDate();return i=i<10?"0"+i:i,e+"-"+a+"-"+i}}},z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"classify"}},[i("div",{staticClass:"top"},[i("div",{staticClass:"breadcrumb"},[i("router-link",{attrs:{to:{path:"/index/resource"}}},[t._v("报告写作")]),t._v("\n      >\n      "),i("span",[t._v("生成简报")])],1)]),t._v(" "),i("div",{staticClass:"build"},[i("div",{staticClass:"date clearfix"},[i("div",{staticClass:"start"},[i("span",{staticClass:"label"},[t._v("开始日期")]),t._v(" "),i("el-date-picker",{attrs:{type:"date",clearable:!1,editable:!1,placeholder:"选择日期"},on:{change:t.startDateChange},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),t._v(" "),i("div",{staticClass:"end"},[i("span",{staticClass:"label"},[t._v("结束日期")]),t._v(" "),i("el-date-picker",{attrs:{type:"date",clearable:!1,editable:!1,placeholder:"选择日期"},on:{change:t.endDateChange},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)]),t._v(" "),i("div",{staticClass:"check"},[i("div",{staticClass:"all-check clearfix"},[i("div",{staticClass:"all-check-left"},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.CheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选\n          ")])],1),t._v(" "),i("div",{staticClass:"all-check-right"},[t._v("已选择"),i("span",[t._v(t._s("("+t.checkTrades.length+")"))])])]),t._v(" "),i("div",{staticClass:"check-list"},[i("el-checkbox-group",{on:{change:t.checkTradesChange},model:{value:t.checkTrades,callback:function(e){t.checkTrades=e},expression:"checkTrades"}},t._l(t.allTrades,function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.classId}},[t._v(t._s(e.name))])}))],1)]),t._v(" "),i("div",{staticClass:"btn"},[i("button",{attrs:{type:"button"},on:{click:t.createReport}},[t._v("生成简报")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingShow,expression:"loadingShow"}],staticClass:"model-white"},[i("img",{attrs:{src:a("F7NO"),alt:""}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loginState,expression:"loginState"}],staticClass:"model"},[t._m(0)])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("a",{attrs:{href:"javascript:;"}},[a("b",[t._v("!")]),t._v("\n        登陆过期，请重新登陆。\n      ")])])}],q={render:z,staticRenderFns:U},V=q,K=a("VU/8"),Y=n,W=K(R,V,!1,Y,null,null),J=W.exports,G={data:function(){return{loadingShow:!1,ids:"",sd:"",ed:"",id:"",copyData:"",contentList:[],indexCN:["一","二","三","四","五 ","六","七","八","九","十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十"],loginState:!1}},created:function(){var t=this;console.log(t.$route.query),t.ids=t.$route.query.classId,t.sd=t.$route.query.sdate,t.ed=t.$route.query.edate,t.$route.query.id?t.reCreate():t.createReport()},methods:{createReport:function(){var t=this;t.loadingShow=!0,C.a.ajax({url:apiHost+"/industry-bulletin/brief/create",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{classIds:t.ids,beginDate:t.sd,endDate:t.ed},success:function(e){if(0==e.code){t.loadingShow=!1,t.id=e.data.id,t.contentList=e.data.data;for(var a=0;a<t.contentList.length;a++)for(var i=0;i<t.contentList[a].contents.length;i++)t.contentList[a].contents[i].textcontent=t.contentList[a].contents[i].textcontent.replace(/	/g,""),t.contentList[a].contents[i].textcontent=t.contentList[a].contents[i].textcontent.replace(/		/g,""),t.contentList[a].contents[i].textcontent=t.contentList[a].contents[i].textcontent.replace(/　/g,""),t.contentList[a].contents[i].textcontent=t.contentList[a].contents[i].textcontent.replace(/\n/g,"\n    "),t.contentList[a].contents[i].textcontent="    "+t.contentList[a].contents[i].textcontent;var s="",n="";t.contentList.map(function(e,a){s+=t.indexCN[a]+". "+e.className+"\n",n+=t.indexCN[a]+". "+e.className+"\n",e.contents&&e.contents.map(function(t,e){s+=e+1+". "+t.title+"\n",n+=e+1+". "+t.title+"\n"+t.source+t.time+"\n"+t.textcontent+"\n"})}),t.copyData=s+n}},error:function(e){"9001"==e.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})},createWord:function(){var t=this;window.open(apiHost+"/industry-bulletin//brief/down_word?id="+t.id)},reCreate:function(){var t=this;t.loadingShow=!0,C.a.ajax({url:apiHost+"/industry-bulletin/brief/recreate",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{id:t.$route.query.id},success:function(e){if(0==e.code){t.loadingShow=!1,t.id=e.data.id,t.contentList=e.data.data;var a="",i="";t.contentList.map(function(e,s){a+=t.indexCN[s]+". "+e.className+"\n",i+=t.indexCN[s]+". "+e.className+"\n",e.contents&&e.contents.map(function(t,e){a+=e+1+". "+t.title+"\n",i+=e+1+". "+t.title+"\n"+t.source+t.time+"\n"+t.textcontent+"\n"})}),t.copyData=a+i}},error:function(e){"9001"==e.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})}}},X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("div",{staticClass:"top"},[i("div",{staticClass:"breadcrumb"},[i("router-link",{attrs:{to:{path:"/index/resource"}}},[t._v("报告写作")]),t._v("\n      >\n      "),i("router-link",{attrs:{to:{path:"/classify"}}},[t._v("行业简报信息页")]),t._v("\n      >\n      "),i("span",[t._v("生成简报")])],1),t._v(" "),i("div",{staticClass:"btn"},[i("router-link",{attrs:{to:{path:"/update-list",query:{id:t.id}},tag:"button"}},[t._v("修改")]),t._v(" "),i("button",{staticClass:"js-copy",attrs:{type:"button","data-clipboard-text":t.copyData}},[t._v("复制")]),t._v(" "),i("button",{attrs:{type:"button"},on:{click:t.createWord}},[t._v("导出word")])],1)]),t._v(" "),i("div",{staticClass:"content-list"},[i("div",{staticClass:"wrap scroll"},[i("ul",{staticClass:"ul-overview"},[t._m(0),t._v(" "),t._l(t.contentList,function(e,a){return i("li",[i("p",[t._v(t._s(t.indexCN[a]+"、 "+e.className))]),t._v(" "),i("ul",t._l(e.contents,function(e,a){return i("li",[i("p",{staticClass:"title-list"},[t._v(t._s(a+1)+"、"+t._s(e.title))])])}))])})],2),t._v(" "),i("ul",{staticClass:"ul-detail"},t._l(t.contentList,function(e,a){return i("li",[i("p",[t._v(t._s(t.indexCN[a]+". "+e.className))]),t._v(" "),i("ul",t._l(e.contents,function(e,a){return i("li",[i("p",[t._v(t._s(a+1)+" ."+t._s(e.title))]),t._v(" "),i("p",{staticClass:"source"},[i("span",[t._v(t._s(e.source))]),t._v(" "),i("span",[t._v(t._s(e.time))])]),t._v(" "),i("pre",[t._v(t._s(e.textcontent))]),t._v(" "),i("div",{staticStyle:{"text-align":"center",margin:"10px 0"}},[i("img",{attrs:{src:e.image}})])])}))])}))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingShow,expression:"loadingShow"}],staticClass:"model-white"},[i("img",{attrs:{src:a("F7NO"),alt:""}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loginState,expression:"loginState"}],staticClass:"model"},[t._m(1)])])},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("p",[t._v("目录")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("a",{attrs:{href:"javascript:;"}},[a("b",[t._v("!")]),t._v("\n        登陆过期，请重新登陆。\n      ")])])}],tt={render:X,staticRenderFns:Z},et=tt,at=a("VU/8"),it=r,st=at(G,et,!1,it,null,null),nt=st.exports,rt={data:function(){return{updataList:[],id:"",tradeId:"",contentIds:"",count:"",loginState:!1,loadingShow:!1}},created:function(){var t=this;t.id=t.$route.query.id,t.$route.query.contentIds?(t.tradeId=t.$route.query.tradeId,t.contentIds=t.$route.query.contentIds,t.updateReport()):t.createReport()},methods:{createReport:function(){var t=this;t.loadingShow=!0,C.a.ajax({url:apiHost+"/industry-bulletin/brief/content/tradeList",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{id:t.id},success:function(e){0==e.code&&(t.loadingShow=!1,t.updataList=e.data.data,t.getCount())},error:function(e){"9001"==e.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})},getCount:function(){var t=this,e=0;t.updataList.map(function(t){t.contents.map(function(t){1==t.status&&e++})}),t.count=e},updateReport:function(){var t=this;t.loadingShow=!0,C.a.ajax({url:apiHost+"/industry-bulletin/brief/content/update",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{id:t.id,classId:t.tradeId,contentIds:t.contentIds},success:function(e){0==e.code&&(t.loadingShow=!1,t.updataList=e.data.data,t.getCount())},error:function(e){"9001"==e.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})}}},ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"update-list"}},[i("div",{staticClass:"top"},[i("div",{staticClass:"breadcrumb"},[i("router-link",{attrs:{to:{path:"/index/resource"}}},[t._v("报告写作")]),t._v("\n      >\n      "),i("router-link",{attrs:{to:{path:"/classify"}}},[t._v("行业简报信息页")]),t._v("\n      >\n      "),i("span",[t._v("选择修改简报分类")])],1)]),t._v(" "),i("div",{staticClass:"update-list"},[i("div",{staticClass:"list-header"},[i("div",{staticClass:"left"},[t._v("\n        已选择 "),i("span",[t._v(t._s("("+t.count+")"))])]),t._v(" "),i("div",{staticClass:"right"},[i("router-link",{attrs:{to:{path:"/content",query:{id:t.id}},tag:"button"}},[t._v("重新生成简报")])],1)]),t._v(" "),i("div",{staticClass:"list-main"},[i("div",{staticClass:"table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.updataList}},[i("el-table-column",{attrs:{align:"center",prop:"className",label:"分类",width:""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"use",label:"已选择",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"address",label:"已选择文章标题",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.contents,function(e,a){return i("p",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"list.status == 1"}],staticStyle:{"text-align":"left"}},[t._v("\n                "+t._s(e.title))])})}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"address",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{staticStyle:{color:"#0874ea",cursor:"pointer"},attrs:{to:{path:"/update-detail",query:{id:t.id,classId:e.row.classId}},tag:"span"}},[t._v("修改\n              ")])]}}])})],1)],1)])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingShow,expression:"loadingShow"}],staticClass:"model-white"},[i("img",{attrs:{src:a("F7NO"),alt:""}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loginState,expression:"loginState"}],staticClass:"model"},[t._m(0)])])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("a",{attrs:{href:"javascript:;"}},[a("b",[t._v("!")]),t._v("\n        登陆过期，请重新登陆。\n      ")])])}],ct={render:ot,staticRenderFns:lt},dt=ct,ut=a("VU/8"),vt=o,ht=ut(rt,dt,!1,vt,null,null),pt=ht.exports,mt={data:function(){return{updateReportList:[],count:"",loginState:!1,loadingShow:!1}},created:function(){var t=this;t.id=t.$route.query.id,t.classId=t.$route.query.classId,t.updateReport()},watch:{count:function(t){t>6&&this.$alert("每个分类最大选择数量为6篇","提示",{confirmButtonText:"确定"})}},mounted:function(){},methods:{getCount:function(){var t=this,e=0;t.updateReportList.map(function(t){1==t.status&&(e+=1)}),t.count=e},save:function(){var t=this,e=[];t.updateReportList.map(function(t){1==t.status&&e.push(t.id)}),0==e.length?t.$message({showClose:!0,message:"请至少选择1篇文章",type:"warning",center:!0}):t.$router.push({path:"/update-list",query:{id:t.id,tradeId:t.classId,contentIds:e.toString()}})},updateReport:function(){var t=this;t.loadingShow=!0,C.a.ajax({url:apiHost+"/industry-bulletin/brief/content/tradeClassList",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{id:t.id,classId:t.classId},success:function(e){0==e.code&&(t.loadingShow=!1,t.updateReportList=e.data.data[0].contents,t.count=e.data.data[0].use.slice(0,e.data.data[0].use.indexOf("/")))},error:function(e){"9001"==e.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})}}},ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"update-list"}},[i("div",{staticClass:"top"},[i("div",{staticClass:"breadcrumb"},[i("router-link",{attrs:{to:{path:"/index/resource"}}},[t._v("报告写作")]),t._v("\n      >\n      "),i("router-link",{attrs:{to:{path:"/classify"}}},[t._v("行业简报信息页")]),t._v("\n      >\n      "),i("span",[t._v("选择简报文章")])],1)]),t._v(" "),i("div",{staticClass:"update-list"},[i("div",{staticClass:"list-header"},[i("div",{staticClass:"left"},[t._v("\n        已选择 "),i("span",[t._v(t._s("("+t.count+")"))])]),t._v(" "),i("div",{staticClass:"right"},[i("router-link",{attrs:{to:{path:"/update-list",query:{id:t.id}},tag:"button"}},[t._v("返回")]),t._v(" "),i("button",{attrs:{type:"button"},on:{click:t.save}},[t._v("保存")])],1)]),t._v(" "),i("div",{staticClass:"list-main"},[i("div",{staticClass:"table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.updateReportList}},[i("el-table-column",{attrs:{align:"center",label:"选择",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-checkbox",{attrs:{checked:1==e.row.status},on:{change:function(a){e.row.status="0"==e.row.status?"1":"0",t.getCount()}}})]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"title",label:"标题",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"source",label:"来源",width:""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"time",label:"时间",width:""}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"summary",label:"摘要",width:"400"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",prop:"address",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticStyle:{color:"#0774ea"},attrs:{href:e.row.url,target:"_blank"}},[t._v("查看详情")])]}}])})],1)],1)])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingShow,expression:"loadingShow"}],staticClass:"model-white"},[i("img",{attrs:{src:a("F7NO"),alt:""}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loginState,expression:"loginState"}],staticClass:"model"},[t._m(0)])])},gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("a",{attrs:{href:"javascript:;"}},[a("b",[t._v("!")]),t._v("\n        登陆过期，请重新登陆。\n      ")])])}],_t={render:ft,staticRenderFns:gt},wt=_t,Ct=a("VU/8"),yt=l,bt=Ct(mt,wt,!1,yt,null,null),xt=bt.exports,At={data:function(){return{id:"",filedName:"",wordNumber:800,wordList:[{value:800,label:"800字"},{value:1500,label:"1000-1500"},{value:2e3,label:"1500-2000"}],timeQuantum:1,timeList:[{value:1,label:"最近一周"},{value:2,label:"最近一月"},{value:3,label:"最近半年"}],keyword:"",title:"",author:"",time:"",content:"",active:1,aiListData:[],pageNum1:1,pageSize1:5,totalCount1:50,aiDetail:"",aiDetailShow:!1,hasNoAiList:!1,newsKeyword:"",newsListData:[],pageNum2:1,pageSize2:5,newsDetail:{},newsDetailShow:!1,hasNoNewsList:!1,hasNoList:0,draftsShow:!1,draftsListData:[],pageNum4:1,pageSize4:10,totalCount4:5,textShow:!1,titleLoading:!1,aiLoading:!1,newsLoading:!1,fullLoading:!1}},computed:{aiListDataShow:function(){return this.aiListData.slice((this.pageNum1-1)*this.pageSize1,this.pageNum1*this.pageSize1)},newsListDataShow:function(){return this.newsListData.slice((this.pageNum2-1)*this.pageSize2,this.pageNum2*this.pageSize2)},copyText:function(){return this.title?this.author?this.time?this.content?"文章标题："+this.title+"\n\r作者："+this.author+"\n\r文章时间："+this.time+"\n\r文章内容：\n"+this.content+"\n":"false-content":"false-time":"false-author":"false-title"}},watch:{hasNoList:function(t){2==t&&(this.hasNoNewsList&&this.hasNoAiList&&this.$alert("您输入的关键词无法进行写作，请尝试更改关键词进行写作！","提示",{type:"error"}),this.hasNoList=0)}},created:function(){},mounted:function(){this.editorInt()},destroyed:function(){this.editor.destroy()},methods:{clickWrite:function(){var t=this;if(""==t.keyword)return t.$alert("请输入至少一个写作关键词哦！","提示",{type:"warning"}),!1;var e=t.keyword.split(" ");if(e.length>3)return t.$alert("请按照正确规则输入写作关键词哦！","提示",{type:"warning"}),!1;for(var a=0;a<e.length;a++)if(e[a].length>5)return t.$alert("请按照正确规则输入写作关键词哦！","提示",{type:"warning"}),!1;t.id="",t.title="",t.author="",t.time="",t.content="",t.editor.setContent(""),t.newsKeyword="",t.active=1,t.hasNoList=0,t.aiDetailShow=!1,t.newsDetailShow=!1,t.newsDetail={},t.aiDetail="",t.getAIListData(function(e){if(t.aiListData.length>0){e.data.id&&(t.id=e.data.id),t.time=t.getTime();var a="<p>"+t.aiListData[0].summary.replace(/\n/g,"</p><p>")+"</p>";t.editor.setContent(a)}}),t.getNewsListData(t.keyword)},getAIListData:function(t){var e=this;if(""==e.keyword)return e.$alert("请输入至少一个写作关键词哦！","提示",{type:"warning"}),!1;var a=e.keyword.split(" ");if(a.length>3)return e.$alert("请按照正确规则输入写作关键词哦！","提示",{type:"warning"}),!1;for(var i=0;i<a.length;i++)if(a[i].length>5)return e.$alert("请按照正确规则输入写作关键词哦！","提示",{type:"warning"}),!1;e.aiListData=[],e.hasNoAiList=!1,e.aiLoading=!0,C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/write",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{version:1,keyword:e.keyword,time:e.timeQuantum,sl:e.wordNumber,cluster:"",tags:e.filedName,token:0},success:function(a){if(e.aiLoading=!1,"0"==a.code)if(a.data&&a.data.ai_data&&a.data.ai_data.result&&a.data.ai_data.result.length>0){e.aiListData=a.data.ai_data.result,t&&t(a),e.titleLoading=!0;var i=0;e.timer=setInterval(function(){e.getTitle(e.aiListData[i].summary,function(t,a){if("0"==t.code)for(var i=0;i<e.aiListData.length;i++)e.aiListData[i].summary==a&&(0==i&&(e.titleLoading=!1,e.title=t.data),e.$set(e.aiListData,i,{summary:e.aiListData[i].summary,_id:e.aiListData[i]._id,title:t.data}),e.uploadTitle(e.aiListData[i]._id,t.data))}),++i>=e.aiListData.length&&clearInterval(e.timer)},200)}else e.hasNoAiList=!0,e.hasNoList++;else e.hasNoAiList=!0,e.hasNoList++},error:function(t){e.aiLoading=!1,"9001"==t.status&&(location.href="./login.html")}})},getTitle:function(t,e){C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/headline_generation",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{article:t},success:function(a){e&&e(a,t)}})},uploadTitle:function(t,e){C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/upload_title",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{draftNewsId:t,title:e},success:function(t){}})},showAIDetail:function(t){this.aiDetail={title:t.title,summary:"<p>"+t.summary.replace(/\n/g,"</p><p>")+"</p>"},this.aiDetailShow=!0},closeAiDetail:function(t){C()(t.target).parent().scrollTop(0),this.aiDetailShow=!1},getNewsListData:function(t){var e=this;e.newsListData=[],e.hasNoNewsList=!1,e.newsLoading=!0,C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/news_search",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{keyword:t},success:function(t){e.newsLoading=!1,"0"==t.code&&t.data&&t.data.length>0?e.newsListData=t.data:(e.hasNoNewsList=!0,e.hasNoList++)},error:function(t){e.newsLoading=!1,"9001"==t.status&&(location.href="./login.html")}})},saveDrafts:function(){var t=this;if(t.content=t.editor.getContent(),""==t.keyword)return t.$alert("请输入至少一个写作关键词哦！","提示",{type:"warning"}),!1;var e=t.keyword.split(" ");if(e.length>3)return t.$alert("请按照正确规则输入写作关键词哦！","提示",{type:"warning"}),!1;for(var a=0;a<e.length;a++)if(e[a].length>5)return t.$alert("请按照正确规则输入写作关键词哦！","提示",{type:"warning"}),!1;return""==t.title?(t.$alert("请输入标题！","提示",{type:"warning"}),!1):""==t.author?(t.$alert("请输入作者！","提示",{type:"warning"}),!1):""==t.time?(t.$alert("请输入文章时间！","提示",{type:"warning"}),!1):""==t.content?(t.$alert("请输入文章内容！","提示",{type:"warning"}),!1):void t.$confirm("您确定要将文章保存到草稿箱么？","保存提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/draft_box_save",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{id:t.id,keyword:t.keyword,title:t.title,author:t.author,time:t.time,content:t.content},success:function(e){"0"==e.code?(e.data&&(t.id=e.data),t.$message({message:"已成功将文章保存到草稿箱！",type:"success"})):t.$message({message:e.msg,type:"error"}),t.content=t.editor.getPlainTxt()}})}).catch(function(){})},clickOpenDrafts:function(){this.getDraftsListData(),this.draftsShow=!0},getDraftsListData:function(){var t=this;C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/draft_box_list",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{pageNo:t.pageNum4},success:function(e){if("0"==e.code&&e.data){e.data.result&&(t.draftsListData=e.data.result),e.data.totalCount&&(t.totalCount4=e.data.totalCount),e.data.pageSize&&(t.pageSize4=e.data.pageSize);for(var a=0;a<t.draftsListData.length;a++)t.draftsListData[a].index=(t.pageNum4-1)*t.pageSize4+a+1}},error:function(t){"9001"==t.status&&(location.href="./login.html")}})},editDrafts:function(t){var e=this;e.id=t,e.active=1,e.newsKeyword="",e.hasNoList=0,e.hasNoAiList=!1,e.hasNoNewsList=!1,C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/draft_box_edit",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{id:t},success:function(t){"0"==t.code&&t.data?(e.keyword=t.data.keyword,e.title=t.data.title,e.author=t.data.author,e.time=t.data.time,e.draftsShow=!1,e.editor.setContent(t.data.content)):e.$message({message:t.msg,type:"error"})},error:function(t){"9001"==t.status&&(location.href="./login.html")}}),e.getCollectNewsList(1),e.getCollectNewsList(2)},deleteDrafts:function(t){var e=this;e.$confirm("您确定要删除此文章草稿么？","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/draft_box_delete",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{id:t},success:function(t){"0"==t.code?(e.getDraftsListData(),e.$message({message:"已成功删除此文章草稿！",type:"success"})):e.$message({message:t.msg,type:"error"})},error:function(t){"9001"==t.status&&(location.href="./login.html")}})}).catch(function(){})},collectNewsList:function(t){var e=this;C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/news_textcontent",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{newsid:t._id},success:function(a){"0"==a.code&&a.data&&a.data.textcontent&&(e.newsDetail.title=t.title,e.newsDetail.site=t.site,e.newsDetail.article="<p>"+a.data.textcontent.replace(/\n/g,"</p><p>")+"</p>",e.newsDetailShow=!0)}}),t.draftId=e.id,C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/article_collect",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:t,success:function(t){t.code}})},closeNewsDetail:function(t){C()(t.target).parent().scrollTop(0),this.newsDetailShow=!1},getCollectNewsList:function(t){var e=this;C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/draft_box_article_show",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{draftId:e.id,type:t},success:function(a){if("0"==a.code&&a.data)if(1==t){e.aiListData=a.data;for(var i=0;i<e.aiListData.length;i++)e.aiListData[i].title||e.getTitle(e.aiListData[i].summary,function(t,a){if("0"==t.code)for(var i=0;i<e.aiListData.length;i++)e.aiListData[i].summary==a&&e.$set(e.aiListData,i,{summary:e.aiListData[i].summary,title:t.data})})}else e.newsListData=a.data}})},downLoadWord:function(){var t=this;return t.content=t.editor.getPlainTxt(),""==t.title?(t.$alert("请输入标题！","提示",{type:"warning"}),!1):""==t.author?(t.$alert("请输入作者！","提示",{type:"warning"}),!1):""==t.time?(t.$alert("请输入文章时间！","提示",{type:"warning"}),!1):""==t.content?(t.$alert("请输入文章内容！","提示",{type:"warning"}),!1):void t.$confirm("您确定要下载此文章么？","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/save_word",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{title:t.title,author:t.author,time:t.time,content:t.content},success:function(e){"0"==e.code&&e.data?window.location.href=apiHost+"/industry-bulletin/writer_robot/info_writer/down_word?filename="+e.data:t.$message({message:e.msg,type:"error"})},error:function(t){"9001"==t.status&&(location.href="./login.html")}})}).catch(function(){})},tabsChange:function(t){if(this.hasNoAiList&&this.hasNoNewsList)return!1;this.active=t},handleCurrentChange1:function(t){this.pageNum1=t},handleCurrentChange2:function(t){this.pageNum2=t},handleCurrentChange4:function(t){this.pageNum4=t,this.getDraftsListData()},getTime:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1;a<10&&(a="0"+a);var i=t.getDate();i<10&&(i="0"+i);var s=t.getHours();s<10&&(s="0"+s);var n=t.getMinutes();n<10&&(n="0"+n);var r=t.getSeconds();return r<10&&(r="0"+r),e+"-"+a+"-"+i+" "+s+":"+n+":"+r},editorInt:function(){var t=this;t.editor=UE.getEditor("editor",{toolbars:[["source","|","undo","redo","|","pasteplain","removeformat","selectall","|","fontsize","forecolor","backcolor","bold","italic","underline","|","drafts","help"],["justifyleft","justifycenter","justifyright","justifyjustify","|","horizontal","date","time","spechars","|"]],fontsize:[10,11,12,14,16,18,20,24,28,32,36,42],saveInterval:5e3,wordCount:!1,elementPathEnabled:!1,autoHeightEnabled:!1,retainOnlyLabelPasted:!0}),t.textShow=!0,t.editor.addListener("contentChange",function(e){t.content=t.editor.getPlainTxt()})}}},Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:t.fullLoading,expression:"fullLoading",modifiers:{fullscreen:!0}}],attrs:{id:"write-robot"}},[a("div",{staticClass:"top-else",staticStyle:{padding:"0 30px"}},[a("div",{staticClass:"breadcrumb"},[a("router-link",{attrs:{to:{path:"/index/write"}}},[t._v("资讯写作")]),t._v(" "),a("span",[t._v(">财经写作")])],1)]),t._v(" "),a("div",{staticClass:"web_bottom"},[a("div",{staticClass:"control"},[a("div",{staticClass:"row clearfix",staticStyle:{"padding-bottom":"0"}},[a("div",{staticClass:"left"},[a("div",{staticClass:"item"},[a("span",{staticStyle:{display:"inline-block",width:"84px"}},[t._v("写作字数")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.wordNumber,callback:function(e){t.wordNumber=e},expression:"wordNumber"}},t._l(t.wordList,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}))],1),t._v(" "),a("div",{staticClass:"item"},[a("span",[t._v("素材采集时间")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:t.timeQuantum,callback:function(e){t.timeQuantum=e},expression:"timeQuantum"}},t._l(t.timeList,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})}))],1)]),t._v(" "),a("div",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.clickOpenDrafts}},[t._v("草稿箱")])],1)]),t._v(" "),a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"left"},[a("div",{staticClass:"item"},[a("span",[t._v("请输入关键词")]),t._v(" "),a("el-input",{staticStyle:{width:"490px"},attrs:{placeholder:"请输入关键词",size:"small"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("p",[t._v("备注：请输入5字以内关键词，最多输入三个，之间用空格隔开")])],1)]),t._v(" "),a("div",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"small",loading:t.aiLoading},on:{click:function(e){t.clickWrite()}}},[t._v(t._s(t.aiLoading?"写作中":"文章写作"))])],1)])]),t._v(" "),a("div",{staticClass:"write-content"},[a("div",{staticClass:"left"},[a("div",{staticClass:"row clearfix"},[a("span",{staticClass:"left"},[t._v("文章标题")]),t._v(" "),a("el-input",{staticClass:"right title",staticStyle:{width:"490px"},attrs:{size:"small",maxlength:50,"prefix-icon":t.titleLoading?"el-icon-loading":""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),a("div",{staticClass:"row row2 clearfix"},[a("div",{staticClass:"left"},[a("span",[t._v("作者")]),t._v(" "),a("el-input",{staticStyle:{width:"90px"},attrs:{size:"small",maxlength:20},model:{value:t.author,callback:function(e){t.author=e},expression:"author"}}),t._v(" "),a("span",{staticStyle:{width:"65px","margin-left":"8px"}},[t._v("文章时间")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择文章时间",size:"small",editable:!1},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),a("el-button",{staticClass:"right js-copy",attrs:{type:"primary",size:"small","data-clipboard-text":t.copyText}},[t._v("一键复制")])],1),t._v(" "),a("div",{staticClass:"editor",class:{"text-show":t.textShow}},[a("script",{staticStyle:{height:"660px"},attrs:{id:"editor",type:"text/plain"}}),t._v(" "),a("p",{staticClass:"text"},[t._v("右侧“AI写作”是写作机器人写的文章，“资讯推荐”是相关资讯推荐~"),a("span",{staticClass:"el-icon-close",on:{click:function(e){t.textShow=!1}}})])])]),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"tabs"},[a("a",{class:{active:1==t.active},attrs:{href:"javascript:;"},on:{click:function(e){t.tabsChange(1)}}},[t._v("AI写作")]),t._v(" "),a("a",{class:{active:2==t.active,disabled:t.hasNoAiList&&t.hasNoNewsList},attrs:{href:"javascript:;"},on:{click:function(e){t.tabsChange(2)}}},[t._v("推荐资讯")])]),t._v(" "),a("div",{staticClass:"items"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.active,expression:"active==1"},{name:"loading",rawName:"v-loading",value:t.aiLoading,expression:"aiLoading"}],staticClass:"item"},[a("div",{staticClass:"search clearfix"},[a("span",{staticClass:"left"},[t._v("这些AI文章满意么？还可以点击再次写作哦")]),t._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"small",disabled:t.hasNoAiList},on:{click:function(e){t.getAIListData()}}},[t._v("再次写作")])],1),t._v(" "),a("ul",[t._l(t.aiListDataShow,function(e){return a("li",[a("h3",{class:{loading:!e.title}},[t._v(t._s(e.title))]),t._v(" "),a("p",[t._v(t._s(e.summary))]),t._v(" "),a("div",{staticClass:"clearfix"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.showAIDetail(e)}}},[t._v("阅读全文")])])])}),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.hasNoAiList&&!t.hasNoNewsList,expression:"hasNoAiList && !hasNoNewsList"}],staticClass:"no-news"},[t._v("非常抱歉，这个题目不会做。但我们也为您提供相关资讯内容，您也可以更换关键词！")]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.hasNoAiList&&t.hasNoNewsList,expression:"hasNoAiList && hasNoNewsList"}],staticClass:"no-news"},[t._v("非常抱歉，这个题目不会做。")])],2),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"page-size":t.pageSize1,"current-page":t.pageNum1,total:t.aiListData.length,layout:" prev, pager, next",background:"",small:""},on:{"current-change":t.handleCurrentChange1}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.aiDetailShow,expression:"aiDetailShow"}],staticClass:"detail"},[a("div",{staticClass:"inner"},[a("h2",{staticClass:"title"},[t._v(t._s(t.aiDetail.title))]),t._v(" "),a("div",{staticClass:"article",domProps:{innerHTML:t._s(t.aiDetail.summary)}}),t._v(" "),a("a",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){t.closeAiDetail(e)}}},[t._v("点击收起")])])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active==2"},{name:"loading",rawName:"v-loading",value:t.newsLoading,expression:"newsLoading"}],staticClass:"item"},[a("div",{staticClass:"search"},[a("div",{staticClass:"clearfix"},[a("el-input",{staticClass:"left",attrs:{size:"small",placeholder:"请输入资讯关键词",maxlength:30},model:{value:t.newsKeyword,callback:function(e){t.newsKeyword=e},expression:"newsKeyword"}}),t._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"small"},on:{click:function(e){t.getNewsListData(t.newsKeyword)}}},[t._v("搜索资讯\n                ")])],1),t._v(" "),a("span",{staticStyle:{width:"auto","margin-top":"20px"}},[t._v("您还可以在这里搜索其他的资讯文章哦~")])]),t._v(" "),a("ul",[t._l(t.newsListDataShow,function(e){return a("li",[a("h3",[t._v(t._s(e.title))]),t._v(" "),a("p",[t._v(t._s(e.summary))]),t._v(" "),a("div",{staticClass:"clearfix"},[a("span",[t._v(t._s(e.site))]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.collectNewsList(e)}}},[t._v("阅读全文")])])])}),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.hasNoNewsList,expression:"hasNoNewsList"}],staticClass:"no-news"},[t._v("找不到相关资讯")])],2),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"page-size":t.pageSize2,"current-page":t.pageNum2,total:t.newsListData.length,layout:" prev, pager, next",background:"",small:""},on:{"current-change":t.handleCurrentChange2}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.newsDetailShow,expression:"newsDetailShow"}],staticClass:"detail",staticStyle:{top:"102px"}},[a("div",{staticClass:"inner"},[a("h2",{staticClass:"title"},[t._v(t._s(t.newsDetail.title))]),t._v(" "),a("p",{staticClass:"source"},[t._v(t._s(t.newsDetail.site))]),t._v(" "),a("div",{staticClass:"article",domProps:{innerHTML:t._s(t.newsDetail.article)}}),t._v(" "),a("a",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(e){t.closeNewsDetail(e)}}},[t._v("点击收起")])])])])])])]),t._v(" "),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveDrafts}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.downLoadWord}},[t._v("下载")])],1)]),t._v(" "),a("el-dialog",{staticClass:"drafts-box",attrs:{title:"草稿箱",visible:t.draftsShow,"lock-scroll":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.draftsShow=e}}},[a("table",[a("thead",[a("tr",[a("th",{attrs:{width:"40"}},[t._v("序号")]),t._v(" "),a("th",{attrs:{width:"180"}},[t._v("保存时间")]),t._v(" "),a("th",[t._v("标题")]),t._v(" "),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.draftsListData,function(e){return a("tr",[a("td",[t._v(t._s(e.index))]),t._v(" "),a("td",[t._v(t._s(e.create_time))]),t._v(" "),a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.editDrafts(e.id)}}},[t._v("编辑")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.deleteDrafts(e.id)}}},[t._v("删除")])])])}))]),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"page-size":t.pageSize4,"current-page":t.pageNum4,total:t.totalCount4,layout:" prev, pager, next",background:"",small:""},on:{"current-change":t.handleCurrentChange4}})],1)])],1)},Lt=[],St={render:Dt,staticRenderFns:Lt},kt=St,Nt=a("VU/8"),Tt=c,Ft=Nt(At,kt,!1,Tt,null,null),Et=Ft.exports,Bt={data:function(){return{template:"看数据模板",date:"",pickerOptions:{disabledDate:function(t){if(t.getTime()>(new Date).getTime())return!0;var e=t.getDay();return 0==e||6==e||void 0}},time:"10:30",openLimitUp:0,sealLimitUp:0,article:""}},created:function(){var t=(new Date).getDay();console.log(t),0!=t&&6!=t&&(this.date=this.getTime())},methods:{clickWrite:function(){var t=this;return""!=t.date&&t.date?t.openLimitUp.toString().split(".").length>1||t.openLimitUp.toString().length>4?(t.$alert("您输入打开涨停板家数格式错误，请输入4位以内正整数","提示",{type:"warning"}),!1):t.sealLimitUp.toString().split(".").length>1||t.sealLimitUp.toString().length>4?(t.$alert("您输入封涨停板家数格式错误，请输入4位以内正整数","提示",{type:"warning"}),!1):void C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/look_finance/content",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{date:t.date+" "+t.time+":00",openLimitUp:t.openLimitUp,sealLimitUp:t.sealLimitUp},success:function(e){"0"==e.code&&e.data&&e.data.d?t.article=e.data.d:t.$alert("您选择的时间无数据，请重新选择！","提示",{type:"warning"})},error:function(t){"9001"==t.status&&(location.href="./login.html")}}):(t.$alert("请您选择日期后，点击文章写作！","提示",{type:"warning"}),!1)},downLoadWord:function(){var t=this;if(""==t.article)return t.$alert("请先完成文章写作！","提示",{type:"warning"}),!1;t.$confirm("您确定要下载此文章么？","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/info_writer/save_word",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{title:t.template,author:"写作机器人",time:t.date+" "+t.time+":00",content:t.article},success:function(e){"0"==e.code&&e.data?window.location.href=apiHost+"/industry-bulletin/writer_robot/info_writer/down_word?filename="+e.data:t.$alert(e.msg,"提示",{type:"error"})},error:function(t){"9001"==t.status&&(location.href="./login.html")}})}).catch(function(){})},getTime:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1;a<10&&(a="0"+a);var i=t.getDate();return i<10&&(i="0"+i),e+"-"+a+"-"+i}}},It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"stock-comment"}},[a("div",{staticClass:"top-else",staticStyle:{padding:"0 30px"}},[a("div",{staticClass:"breadcrumb"},[a("router-link",{attrs:{to:{path:"/index/resource"}}},[t._v("报告写作")]),t._v(" "),a("span",[t._v(">股票写作")])],1)]),t._v(" "),a("div",{staticClass:"web-content"},[a("div",{staticClass:"control"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"left"},[a("div",{staticClass:"item"},[a("span",[t._v("选择日期")]),t._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",size:"small","picker-options":t.pickerOptions},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("span",[t._v("选择时间")]),t._v(" "),a("el-select",{attrs:{placeholder:"选择时间",size:"small"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},[a("el-option",{attrs:{value:"10:30",label:"10:30"}}),t._v(" "),a("el-option",{attrs:{value:"11:30",label:"11:30"}}),t._v(" "),a("el-option",{attrs:{value:"14:00",label:"14:00"}}),t._v(" "),a("el-option",{attrs:{value:"15:00",label:"15:00"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"left"},[a("div",{staticClass:"item"},[a("span",[t._v("打开涨停板家数")]),t._v(" "),a("el-input-number",{attrs:{"controls-position":"right",min:0,max:9999,size:"small"},model:{value:t.openLimitUp,callback:function(e){t.openLimitUp=e},expression:"openLimitUp"}})],1),t._v(" "),a("div",{staticClass:"item"},[a("span",[t._v("封涨停板家数")]),t._v(" "),a("el-input-number",{attrs:{"controls-position":"right",min:0,max:9999,size:"small"},model:{value:t.sealLimitUp,callback:function(e){t.sealLimitUp=e},expression:"sealLimitUp"}})],1)]),t._v(" "),a("div",{staticClass:"right"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.clickWrite()}}},[t._v("文章写作")])],1)])]),t._v(" "),a("div",{staticClass:"article-content"},[t._v(t._s(t.article))]),t._v(" "),a("div",{staticClass:"btns"},[a("el-button",{staticClass:"js-copy",attrs:{type:"primary",size:"small","data-clipboard-text":""==t.article?"false":t.article}},[t._v("一键复制")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.downLoadWord}},[t._v("下载")])],1)])])},$t=[],Ht={render:It,staticRenderFns:$t},jt=Ht,Qt=a("VU/8"),Pt=d,Ot=Qt(Bt,jt,!1,Pt,null,null),Mt=Ot.exports,Rt=a("+TD8"),zt=a.n(Rt),Ut={data:function(){return{loadingShow:!1,pagerList:[],searchForm:{classname:"财经行业",date:""},classList:[{label:"财经行业",value:"财经行业"}],id:null}},created:function(){this.getCurrentDate(),this.getAINews()},methods:{getCurrentDate:function(){var t=this,e=new Date,a=e.getFullYear(),i=e.getMonth()+1;i<10&&(i="0"+i);var s=e.getDate();return s<10&&(s="0"+s),t.searchForm.date=a+"-"+i+"-"+s,a+"-"+i+"-"+s},dateChange:function(t){console.log(t);var e=this;if(new Date(t.split("-")[0],Number(t.split("-")[1])-1,t.split("-")[2]).getTime()>(new Date).getTime())return zt()({title:"提示",message:"写作日期不能大于当天",type:"warning"}),void(e.searchForm.date=e.getCurrentDate());e.searchForm.date=t},search:function(){this.getAINews()},getAINews:function(){var t=this;t.loadingShow=!0,C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/express/content",type:"POST",xhrFields:{withCredentials:!0,type:1},crossDomain:!0,data:{date:t.searchForm.date},success:function(e){t.pagerList=e.data.aipaper,t.loadingShow=!1,t.id=e.data.id}})},exportWord:function(){var t=this;window.open(apiHost+"/industry-bulletin/writer_robot/express/down_word?id="+t.id+"&head="+t.searchForm.classname)}}},qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"aipager"}},[a("div",{staticClass:"top-else"},[a("div",{staticClass:"breadcrumb"},[a("router-link",{attrs:{to:{path:"/index/resource"}}},[t._v("报告写作")]),t._v("\n      >\n      "),a("span",[t._v("行业快报")])],1)]),t._v(" "),a("div",{staticClass:"aipager-content"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm}},[a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{attrs:{size:"small"},model:{value:t.searchForm.classname,callback:function(e){t.$set(t.searchForm,"classname",e)},expression:"searchForm.classname"}},t._l(t.classList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{size:"small",editable:!1,clearable:!1,type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.dateChange},model:{value:t.searchForm.date,callback:function(e){t.$set(t.searchForm,"date",e)},expression:"searchForm.date"}})],1),t._v(" "),a("el-form-item",{staticStyle:{float:"right"}},[a("button",{attrs:{type:"button"},on:{click:t.search}},[t._v("生成快报")]),t._v(" "),a("button",{attrs:{type:"button"},on:{click:t.exportWord}},[t._v("导出word")])])],1),t._v(" "),a("div",{staticClass:"ai-main"},[a("ul",t._l(t.pagerList,function(e){return a("li",[a("h4",[t._v(t._s(e.cname))]),t._v(" "),a("ul",t._l(e.news,function(e,i){return a("li",[a("p",[t._v(t._s(i+1+"，"+e.summary))])])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!!e.images,expression:"!!listParent.images"}],staticClass:"img"},[a("img",{attrs:{src:e.images,alt:""}})])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingShow,expression:"loadingShow"}],staticClass:"loading"})],1)])},Vt=[],Kt={render:qt,staticRenderFns:Vt},Yt=Kt,Wt=a("VU/8"),Jt=u,Gt=Wt(Ut,Yt,!1,Jt,null,null),Xt=Gt.exports,Zt={data:function(){return{name:"",menuList:[]}},created:function(){this.getMenuList()},methods:{getMenuList:function(){var t=this;C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/robot_list",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{class_id:0},success:function(e){0==e.code&&(t.menuList=e.data[1].class_data,t.name=e.data[1].class_name)},error:function(e){"9001"==e.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})},router:function(t){var e=this;"行业简报"==t&&e.$router.push("/classify"),"行业快报"==t&&e.$router.push("/ai-pager"),"股票写作"==t&&e.$router.push("/stock-comment")}}},te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"resource"}},[a("div",{staticClass:"classify-item"},[a("div",{staticClass:"title"},[t._v(t._s(t.name))]),t._v(" "),a("div",{staticClass:"resource-list"},[a("ul",{staticClass:"clearfix"},t._l(t.menuList,function(e){return a("li",{class:[0==e.permission?"not development":"normal"],on:{click:function(a){t.router(e.name)}}},[a("div",{staticClass:"li-left"},[0==e.permission?a("img",{attrs:{src:"static/pub/images/resource_"+e.id+"_x.png"}}):t._e(),t._v(" "),1==e.permission?a("img",{attrs:{src:"static/pub/images/resource_"+e.id+".png"}}):t._e()]),t._v(" "),a("div",{staticClass:"li-right"},[a("h3",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.explain))])])])}))])]),t._v(" "),t._m(0)])},ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact"},[a("h3",[t._v("联系我们")]),t._v(" "),a("p",[t._v("如使用过程中有任何问题，欢迎联系售后部门")]),t._v(" "),a("p",[t._v("电话：0755-86720697")]),t._v(" "),a("p",[t._v("邮箱：contact@giiso.com")])])}],ae={render:te,staticRenderFns:ee},ie=ae,se=a("VU/8"),ne=v,re=se(Zt,ie,!1,ne,"data-v-f6ead0fa",null),oe=re.exports,le={data:function(){return{name:"",menuList:[]}},created:function(){this.getMenuList()},methods:{getMenuList:function(){var t=this;C.a.ajax({url:apiHost+"/industry-bulletin//writer_robot/robot_list",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{class_id:0},success:function(e){0==e.code&&(t.menuList=e.data[0].class_data,t.name=e.data[0].class_name)}})},router:function(t,e){if(0==e)return!1;var a=this;"财经写作"==t&&a.$router.push("/write-robot")}}},ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"resource"}},[a("div",{staticClass:"classify-item"},[a("div",{staticClass:"title"},[t._v(t._s(t.name))]),t._v(" "),a("div",{staticClass:"resource-list"},[a("ul",{staticClass:"clearfix"},t._l(t.menuList,function(e){return a("li",{class:[0==e.permission?"not development":"normal"],on:{click:function(a){t.router(e.name,e.permission)}}},[a("div",{staticClass:"li-left"},[0==e.permission?a("img",{attrs:{src:"static/pub/images/write_"+e.id+"_x.png"}}):t._e(),t._v(" "),1==e.permission?a("img",{attrs:{src:"static/pub/images/write_"+e.id+".png"}}):t._e()]),t._v(" "),a("div",{staticClass:"li-right"},[a("h3",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.explain))])])])}))])]),t._v(" "),t._m(0)])},de=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact"},[a("h3",[t._v("联系我们")]),t._v(" "),a("p",[t._v("如使用过程中有任何问题，欢迎联系售后部门")]),t._v(" "),a("p",[t._v("电话：0755-86720697")]),t._v(" "),a("p",[t._v("邮箱：contact@giiso.com")])])}],ue={render:ce,staticRenderFns:de},ve=ue,he=a("VU/8"),pe=h,me=he(le,ve,!1,pe,"data-v-4650cb54",null),fe=me.exports,ge={data:function(){return{name:"",menuList:[]}},created:function(){this.getMenuList()},mounted:function(){},methods:{getMenuList:function(){var t=this;C.a.ajax({url:apiHost+"/industry-bulletin/writer_robot/robot_list",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{class_id:3},success:function(e){0==e.code&&(t.menuList=e.data[2].class_data,t.name=e.data[2].class_name)}})},router:function(t){}}},_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"resource"}},[a("div",{staticClass:"classify-item"},[a("div",{staticClass:"title"},[t._v(t._s(t.name))]),t._v(" "),a("div",{staticClass:"resource-list"},[a("ul",{staticClass:"clearfix"},t._l(t.menuList,function(e){return a("li",{class:[0==e.permission?"not development":"normal"],on:{click:function(a){t.router(e.name)}}},[a("div",{staticClass:"li-left"},[0==e.permission?a("img",{attrs:{src:"static/pub/images/data_"+e.id+"_x.png"}}):t._e(),t._v(" "),1==e.permission?a("img",{attrs:{src:"static/pub/images/data_"+e.id+".png"}}):t._e()]),t._v(" "),a("div",{staticClass:"li-right"},[a("h3",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.explain))])])])}))])]),t._v(" "),t._m(0)])},we=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact"},[a("h3",[t._v("联系我们")]),t._v(" "),a("p",[t._v("如使用过程中有任何问题，欢迎联系售后部门")]),t._v(" "),a("p",[t._v("电话：0755-86720697")]),t._v(" "),a("p",[t._v("邮箱：contact@giiso.com")])])}],Ce={render:_e,staticRenderFns:we},ye=Ce,be=a("VU/8"),xe=p,Ae=be(ge,ye,!1,xe,"data-v-7f0de883",null),De=Ae.exports,Le={data:function(){var t=this;return{resetPassModelVisible:!1,loginState:!1,username:"",resetForm:{oldPassword:"",newPassword:"",confirmPassword:""},resetFormRule:{oldPassword:[{validator:function(t,e,a){""==e&&a(new Error("请输入登录密码")),e.length<6&&a(new Error("密码长度不能小于6位")),a()},trigger:"blur"}],newPassword:[{validator:function(e,a,i){""==a&&i(new Error("请输入新密码")),a.length<6&&i(new Error("密码长度不能小于6位")),""!=t.resetForm.confirmPassword&&t.$refs.resetForm.validateField("confirmPassword"),i()},trigger:"blur"}],confirmPassword:[{validator:function(e,a,i){return""==a?void i(new Error("请再次输入新密码")):a.length<6?void i(new Error("密码长度不能小于6位")):a!=t.resetForm.newPassword?void i(new Error("两次输入密码不一致!")):void i()},trigger:"blur"}]}}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this;C.a.ajax({url:apiHost+"/industry-bulletin/user/info",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{},success:function(e){0==e.code&&(t.username=e.data.username)},error:function(e){console.log(e.status),"9001"==e.status&&(t.loginState=!0,setTimeout(function(){location.href="./login.html",t.loginState=!1},2e3))}})},openModel:function(){var t=this;t.resetPassModelVisible=!0,t.$refs.resetForm.resetFields()},reset:function(t){var e=this;e.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;C.a.ajax({url:apiHost+"/industry-bulletin/user/update_password",type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,data:{pwd:e.resetForm.oldPassword,pwd2:e.resetForm.newPassword},success:function(t){0==t.code?(e.resetPassModelVisible=!1,e.$message({type:"success",message:"修改成功"})):e.$message({type:"warning",message:"修改失败"})},error:function(t){"9001"==t.status&&(e.loginState=!0,setTimeout(function(){location.href="./login.html",e.loginState=!1},2e3))}})})}}},Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"user"}},[a("div",{staticClass:"top"},[a("div",{staticClass:"breadcrumb"},[a("router-link",{attrs:{to:{path:"/"}}},[t._v("功能类别")]),t._v("\n      >\n      "),a("span",[t._v("个人信息")])],1)]),t._v(" "),a("div",{staticClass:"user-content"},[a("ul",[a("li",[a("div",{staticClass:"li-left"},[t._v("账号")]),t._v(" "),a("div",{staticClass:"li-right"},[t._v(t._s(t.username))])]),t._v(" "),t._m(0),t._v(" "),a("li",[a("div",{staticClass:"li-left"},[t._v("登录密码")]),t._v(" "),a("div",{staticClass:"li-right"},[t._v("\n          ******\n          "),a("button",{on:{click:t.openModel}},[t._v("修改")])])])])]),t._v(" "),a("el-dialog",{attrs:{title:"修改密码",visible:t.resetPassModelVisible,width:"350px"},on:{"update:visible":function(e){t.resetPassModelVisible=e}}},[a("el-form",{ref:"resetForm",attrs:{model:t.resetForm,rules:t.resetFormRule,"status-icon":""}},[a("el-form-item",{attrs:{prop:"oldPassword"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small",placeholder:"登录密码"},model:{value:t.resetForm.oldPassword,callback:function(e){t.$set(t.resetForm,"oldPassword",e)},expression:"resetForm.oldPassword"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"newPassword"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small",placeholder:"新密码"},model:{value:t.resetForm.newPassword,callback:function(e){t.$set(t.resetForm,"newPassword",e)},expression:"resetForm.newPassword"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"confirmPassword"}},[a("el-input",{attrs:{"auto-complete":"off",size:"small",placeholder:"确认密码"},model:{value:t.resetForm.confirmPassword,callback:function(e){t.$set(t.resetForm,"confirmPassword",e)},expression:"resetForm.confirmPassword"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn left",attrs:{type:"button"},on:{click:function(e){t.resetPassModelVisible=!1}}},[t._v("取 消")]),t._v(" "),a("button",{staticClass:"btn right",attrs:{type:"button"},on:{click:function(e){t.reset("resetForm")}}},[t._v("确 定")])])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loginState,expression:"loginState"}],staticClass:"model"},[t._m(1)])],1)},ke=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("div",{staticClass:"li-left"},[t._v("绑定手机号")]),t._v(" "),a("div",{staticClass:"li-right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("a",{attrs:{href:"javascript:;"}},[a("b",[t._v("!")]),t._v("\n        登陆过期，请重新登陆。\n      ")])])}],Ne={render:Se,staticRenderFns:ke},Te=Ne,Fe=a("VU/8"),Ee=m,Be=Fe(Le,Te,!1,Ee,null,null),Ie=Be.exports;_.default.use(E.a);var $e=new E.a({routes:[{path:"/",redirect:"/index"},{path:"/index",component:M,redirect:"/index/write",children:[{path:"/index/resource",component:oe},{path:"/index/write",component:fe},{path:"/index/data",component:De}]},{path:"/classify",component:J},{path:"/content",component:nt},{path:"/update-list",component:pt},{path:"/update-detail",component:xt},{path:"/write-robot",component:Et},{path:"/stock-comment",component:Mt},{path:"/ai-pager",component:Xt},{path:"/user",component:Ie}]});a("j1ja");_.default.config.productionTip=!1,_.default.use(g.a),new _.default({el:"#app",router:$e,template:"<App/>",components:{App:F}})},OG12:function(t,e){},Q9rP:function(t,e){},"Rhj+":function(t,e){},bqrQ:function(t,e){},dQ5A:function(t,e){},msop:function(t,e){},qqmq:function(t,e){},tvR6:function(t,e){}},[0]);